{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/assertEnabled-d1700f0b.browser.esm.js"],"sourcesContent":["import { BigNumber } from 'ethers';\nimport { z } from 'zod';\nimport { x as ExtensionNotImplementedError } from './index-33cd3415.browser.esm.js';\n\nconst RawDateSchema = /* @__PURE__ */(() => z.union([z.date().transform(i => {\n  return BigNumber.from(Math.floor(i.getTime() / 1000));\n}), z.number().transform(i => {\n  return BigNumber.from(i);\n})]))();\n\n/**\n * Default to now\n */\nconst StartDateSchema = /* @__PURE__ */(() => RawDateSchema.default(new Date(0)))();\n\n/**\n * Default to 10 years from now\n */\nconst EndDateSchema = /* @__PURE__ */(() => RawDateSchema.default(new Date(Date.now() + 1000 * 60 * 60 * 24 * 365 * 10)))();\n\n/**\n * Checks whether the given DetectableFeature is defined\n * @internal\n * @param namespace - The namespace to check\n * @param feature - The corresponding feature\n */\nfunction assertEnabled(namespace, feature) {\n  if (!namespace) {\n    throw new ExtensionNotImplementedError(feature);\n  }\n  return namespace;\n}\n\nexport { EndDateSchema as E, RawDateSchema as R, StartDateSchema as S, assertEnabled as a };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,gBAAgB,aAAa,GAAE,CAAC,IAAM,qKAAA,CAAA,IAAC,CAAC,KAAK,CAAC;QAAC,qKAAA,CAAA,IAAC,CAAC,IAAI,GAAG,SAAS,CAAC,CAAA;YACtE,OAAO,0KAAA,CAAA,YAAS,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE,OAAO,KAAK;QACjD;QAAI,qKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,SAAS,CAAC,CAAA;YACvB,OAAO,0KAAA,CAAA,YAAS,CAAC,IAAI,CAAC;QACxB;KAAG,CAAC;AAEJ;;CAEC,GACD,MAAM,kBAAkB,aAAa,GAAE,CAAC,IAAM,cAAc,OAAO,CAAC,IAAI,KAAK,GAAG;AAEhF;;CAEC,GACD,MAAM,gBAAgB,aAAa,GAAE,CAAC,IAAM,cAAc,OAAO,CAAC,IAAI,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,KAAK,KAAK,MAAM,IAAI;AAExH;;;;;CAKC,GACD,SAAS,cAAc,SAAS,EAAE,OAAO;IACvC,IAAI,CAAC,WAAW;QACd,MAAM,IAAI,0LAAA,CAAA,IAA4B,CAAC;IACzC;IACA,OAAO;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/contract-appuri-5c40af52.browser.esm.js"],"sourcesContent":["import { ai as isExtensionEnabled, cJ as FEATURE_METADATA, K as fetchContractMetadataFromAddress, x as ExtensionNotImplementedError, aZ as EventType, cK as FEATURE_APPURI } from './index-33cd3415.browser.esm.js';\nimport { f as buildTransactionFunction, T as Transaction, c as estimateTransactionCost } from './transactions-72f9603c.browser.esm.js';\nimport { utils } from 'ethers';\nimport { replaceGatewayUrlWithScheme } from '@thirdweb-dev/storage';\n\n/**\n * Type guard for contractWrappers depending on passed feature name\n * @internal\n * @param contractWrapper - The contract wrapper to check\n * @param featureName - The feature name to check\n */\nfunction detectContractFeature(contractWrapper, featureName) {\n  const b = isExtensionEnabled(contractWrapper.abi, featureName, contractWrapper.extensions);\n  return b;\n}\n\n/**\n * @internal\n * @param contractWrapper - The contract wrapper to check\n * @param functionName - The function name to check\n */\nfunction hasFunction(functionName, contractWrapper) {\n  return functionName in contractWrapper.readContract.functions;\n}\n\n/**\n * @internal\n */\n\n/**\n * Handles metadata for a Contract\n * @remarks Read and update metadata for this contract\n * @example\n * ```javascript\n * const contract = await sdk.getContract(\"{{contract_address}}\");\n * const metadata = await contract.metadata.get();\n * await contract.metadata.set({\n *   name: \"My Contract\",\n *   description: \"My contract description\"\n * })\n * ```\n * @contract\n * @public\n */\nclass ContractMetadata {\n  featureName = FEATURE_METADATA.name;\n  constructor(contractWrapper, schema, storage) {\n    this.contractWrapper = contractWrapper;\n    this.schema = schema;\n    this.storage = storage;\n  }\n  /**\n   * @internal\n   */\n  parseOutputMetadata(metadata) {\n    return this.schema.output.parseAsync(metadata);\n  }\n\n  /**\n   * @internal\n   */\n  parseInputMetadata(metadata) {\n    return this.schema.input.parseAsync(metadata);\n  }\n  /**\n   * Get the metadata of this contract\n   * @remarks Get the metadata of a contract\n   * @example\n   * ```javascript\n   * const metadata = await contract.metadata.get();\n   * console.log(metadata);\n   * ```\n   * @public\n   * @returns The metadata of the given contract\n   * @twfeature ContractMetadata\n   */\n  async get() {\n    let data;\n    if (this.supportsContractMetadata(this.contractWrapper)) {\n      const uri = await this.contractWrapper.read(\"contractURI\", []);\n      if (uri && uri.includes(\"://\")) {\n        data = await this.storage.downloadJSON(uri);\n      }\n    }\n    if (!data) {\n      try {\n        // try fetching metadata from bytecode and / or contract itself\n        let contractName;\n        try {\n          if (hasFunction(\"name\", this.contractWrapper)) {\n            contractName = await this.contractWrapper.read(\"name\", []);\n          }\n        } catch (err) {\n          // no-op\n        }\n        let contractSymbol;\n        try {\n          if (hasFunction(\"symbol\", this.contractWrapper)) {\n            contractSymbol = await this.contractWrapper.read(\"symbol\", []);\n          }\n        } catch (err) {\n          // no-op\n        }\n        let publishedMetadata;\n        try {\n          publishedMetadata = await fetchContractMetadataFromAddress(this.contractWrapper.address, this.contractWrapper.getProvider(), this.storage, this.contractWrapper.options);\n        } catch (err) {}\n        data = {\n          name: contractName || publishedMetadata?.name,\n          symbol: contractSymbol,\n          description: publishedMetadata?.info.title\n        };\n      } catch (e) {\n        throw new Error(\"Could not fetch contract metadata\");\n      }\n    }\n    return this.parseOutputMetadata(data);\n  }\n\n  /**\n   * Set the metadata of this contract\n   * @remarks OVERWRITE the metadata of a contract\n   * @example\n   * ```javascript\n   * await contract.metadata.set({\n   *   name: \"My Contract\",\n   *   description: \"My contract description\"\n   * })\n   * ```\n   * @public\n   * @param metadata - the metadata to set\n   * @twfeature ContractMetadata\n   */\n  set = /* @__PURE__ */buildTransactionFunction(async metadata => {\n    const uri = await this._parseAndUploadMetadata(metadata);\n    const wrapper = this.contractWrapper;\n    if (this.supportsContractMetadata(wrapper)) {\n      return Transaction.fromContractWrapper({\n        contractWrapper: this.contractWrapper,\n        method: \"setContractURI\",\n        args: [uri],\n        parse: receipt => {\n          return {\n            receipt,\n            data: this.get\n          };\n        }\n      });\n    } else {\n      throw new ExtensionNotImplementedError(FEATURE_METADATA);\n    }\n  });\n\n  /**\n   * Update the metadata of a contract\n   * @remarks Update the metadata of a contract\n   * @example\n   * ```javascript\n   * await contract.metadata.update({\n   *   description: \"My new contract description\"\n   * })\n   * ```\n   * @public\n   * @param metadata - the metadata to update\n   * @twfeature ContractMetadata\n   * */\n  update = /* @__PURE__ */buildTransactionFunction(async metadata => {\n    return await this.set.prepare({\n      ...(await this.get()),\n      ...metadata\n    });\n  });\n\n  /**\n   *\n   * @internal\n   * @param metadata - the metadata to set\n   * @returns\n   */\n  async _parseAndUploadMetadata(metadata) {\n    const parsedMetadata = await this.parseInputMetadata(metadata);\n    return this.storage.upload(parsedMetadata);\n  }\n  supportsContractMetadata(contractWrapper) {\n    return detectContractFeature(contractWrapper, \"ContractMetadata\");\n  }\n}\n\n/**\n * Listen to Contract events in real time\n * @contract\n * @public\n */\nclass ContractEvents {\n  constructor(contractWrapper) {\n    this.contractWrapper = contractWrapper;\n  }\n\n  /**\n   * Subscribe to transactions in this contract.\n   * @remarks Will emit an \"event\" object containing the transaction status ('submitted' and 'completed') and hash\n   * @example\n   * ```javascript\n   * contract.events.addTransactionListener((event) => {\n   *   console.log(event);\n   * }\n   * ```\n   * @param listener - the callback function that will be called on every transaction\n   * @public\n   */\n  addTransactionListener(listener) {\n    this.contractWrapper.addListener(EventType.Transaction, listener);\n  }\n\n  /**\n   * Remove a transaction listener\n   * @remarks Remove a listener that was added with addTransactionListener\n   * @example\n   * ```javascript\n   * contract.events.removeTransactionListener((event) => {\n   *  console.log(event);\n   * }\n   * ```\n   * @param listener - the callback function to remove\n   * @public\n   */\n  removeTransactionListener(listener) {\n    this.contractWrapper.off(EventType.Transaction, listener);\n  }\n\n  /**\n   * Subscribe to contract events\n   * @remarks You can add a listener for any contract event to run a function when\n   * the event is emitted. For example, if you wanted to listen for a \"TokensMinted\" event,\n   * you could do the following:\n   * @example\n   * ```javascript\n   * contract.events.addEventListener(\"TokensMinted\", (event) => {\n   *   console.log(event);\n   * });\n   * ```\n   * @public\n   * @param eventName - the event name as defined in the contract\n   * @param listener - the callback function that will be called on every new event\n   * @returns A function to un-subscribe from the event\n   */\n  addEventListener(\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  eventName, listener) {\n    // validates event, throws error if not found\n    const event = this.contractWrapper.readContract.interface.getEvent(eventName);\n    const address = this.contractWrapper.address;\n    const filter = {\n      address,\n      topics: [this.contractWrapper.readContract.interface.getEventTopic(event)]\n    };\n    const wrappedListener = log => {\n      const parsedLog = this.contractWrapper.readContract.interface.parseLog(log);\n      listener(this.toContractEvent(parsedLog.eventFragment, parsedLog.args, log));\n    };\n    this.contractWrapper.getProvider().on(filter, wrappedListener);\n    return () => {\n      this.contractWrapper.getProvider().off(filter, wrappedListener);\n    };\n  }\n\n  /**\n   * Listen to all events emitted from this contract\n   *\n   * @example\n   * ```javascript\n   * contract.events.listenToAllEvents((event) => {\n   *   console.log(event.eventName) // the name of the emitted event\n   *   console.log(event.data) // event payload\n   * }\n   * ```\n   * @public\n   * @param listener - the callback function that will be called on every new event\n   * @returns A function that can be called to stop listening to events\n   */\n  listenToAllEvents(listener) {\n    const address = this.contractWrapper.address;\n    const filter = {\n      address\n    };\n    const wrappedListener = log => {\n      try {\n        const parsedLog = this.contractWrapper.readContract.interface.parseLog(log);\n        listener(this.toContractEvent(parsedLog.eventFragment, parsedLog.args, log));\n      } catch (e) {\n        console.error(\"Could not parse event:\", log, e);\n      }\n    };\n    this.contractWrapper.getProvider().on(filter, wrappedListener);\n    return () => {\n      this.contractWrapper.getProvider().off(filter, wrappedListener);\n    };\n  }\n\n  /**\n   * Remove an event listener from this contract\n   * @remarks Remove a listener that was added with addEventListener\n   * @example\n   * ```javascript\n   * contract.events.removeEventListener(\"TokensMinted\", (event) => {\n   *   console.log(event);\n   * });\n   * ```\n   * @public\n   * @param eventName - the event name as defined in the contract\n   * @param listener - the listener to unregister\n   */\n  removeEventListener(\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  eventName, listener) {\n    // validates event, throws error if not found\n    const event = this.contractWrapper.readContract.interface.getEvent(eventName);\n    this.contractWrapper.readContract.off(event.name, listener);\n  }\n\n  /**\n   * Remove all listeners on this contract\n   * @remarks Remove all listeners from a contract\n   * @example\n   * ```javascript\n   * contract.events.removeAllListeners();\n   * ```\n   * @public\n   */\n  removeAllListeners() {\n    this.contractWrapper.readContract.removeAllListeners();\n    const address = this.contractWrapper.address;\n    const filter = {\n      address\n    };\n    this.contractWrapper.getProvider().removeAllListeners(filter);\n  }\n\n  /**\n   * Get All Events\n   * @remarks Get a list of all the events emitted from this contract during the specified time period\n   * @example\n   * ```javascript\n   * // Optionally pass in filters to limit the blocks from which events are retrieved\n   * const filters = {\n   *   fromBlock: 0,\n   *   toBlock: 1000000,\n   * }\n   * const events = await contract.events.getAllEvents(filters);\n   * console.log(events[0].eventName);\n   * console.log(events[0].data);\n   * ```\n   *\n   * @param filters - Specify the from and to block numbers to get events for, defaults to all blocks\n   * @returns The event objects of the events emitted with event names and data for each event\n   */\n  async getAllEvents() {\n    let filters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      fromBlock: 0,\n      toBlock: \"latest\",\n      order: \"desc\"\n    };\n    const events = await this.contractWrapper.readContract.queryFilter({}, filters.fromBlock, filters.toBlock);\n    const orderedEvents = events.sort((a, b) => {\n      return filters.order === \"desc\" ? b.blockNumber - a.blockNumber : a.blockNumber - b.blockNumber;\n    });\n    return this.parseEvents(orderedEvents);\n  }\n\n  /**\n   * Get Events\n   * @remarks Get a list of the events of a specific type emitted from this contract during the specified time period\n   * @example\n   * ```javascript\n   * // The name of the event to get logs for\n   * const eventName = \"Transfer\";\n   *\n   * // Optionally pass in options to limit the blocks from which events are retrieved\n   * const options = {\n   *   fromBlock: 0,\n   *   toBlock: 1000000, // can also pass \"latest\"\n   *   order: \"desc\",\n   *   // Configure event filters (filter on indexed event parameters)\n   *   filters: {\n   *     from: \"0x...\",\n   *     to: \"0x...\"\n   *   }\n   * };\n   *\n   * const events = await contract.events.getEvents(eventName, options);\n   * console.log(events[0].eventName);\n   * console.log(events[0].data);\n   * ```\n   *\n   * @param eventName - The name of the event to get logs for\n   * @param options - Specify the from and to block numbers to get events for, defaults to all blocks. @see EventQueryOptions\n   * @returns The requested event objects with event data\n   */\n  async getEvents(eventName) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      fromBlock: 0,\n      toBlock: \"latest\",\n      order: \"desc\"\n    };\n    const eventInterface = this.contractWrapper.readContract.interface.getEvent(eventName);\n    const args = options.filters ? eventInterface.inputs.map(e => options.filters[e.name]) : [];\n    const filter = this.contractWrapper.readContract.filters[eventInterface.name](...args);\n    const events = await this.contractWrapper.readContract.queryFilter(filter, options.fromBlock, options.toBlock);\n    const orderedEvents = events.sort((a, b) => {\n      return options.order === \"desc\" ? b.blockNumber - a.blockNumber : a.blockNumber - b.blockNumber;\n    });\n    return this.parseEvents(orderedEvents);\n  }\n  parseEvents(events) {\n    return events.map(e => {\n      const transaction = Object.fromEntries(Object.entries(e).filter(a => typeof a[1] !== \"function\" && a[0] !== \"args\"));\n      if (e.args) {\n        const entries = Object.entries(e.args);\n        const args = entries.slice(entries.length / 2, entries.length);\n        const data = {};\n        for (const [key, value] of args) {\n          data[key] = value;\n        }\n        return {\n          eventName: e.event || \"\",\n          data: data,\n          transaction\n        };\n      }\n      return {\n        eventName: e.event || \"\",\n        data: {},\n        transaction\n      };\n    });\n  }\n  toContractEvent(event, args, rawLog) {\n    const transaction = Object.fromEntries(Object.entries(rawLog).filter(a => typeof a[1] !== \"function\" && a[0] !== \"args\"));\n    const results = {};\n    event.inputs.forEach((param, index) => {\n      if (Array.isArray(args[index])) {\n        const components = param.components;\n        if (components) {\n          const arr = args[index];\n          if (param.type === \"tuple[]\") {\n            // tuple[]\n            const objArray = [];\n            for (let i = 0; i < arr.length; i++) {\n              const tuple = arr[i];\n              const obj = {};\n              for (let j = 0; j < components.length; j++) {\n                const name = components[j].name;\n                obj[name] = tuple[j];\n              }\n              objArray.push(obj);\n            }\n            results[param.name] = objArray;\n          } else {\n            // simple tuple\n            const obj = {};\n            for (let i = 0; i < components.length; i++) {\n              const name = components[i].name;\n              obj[name] = arr[i];\n            }\n            results[param.name] = obj;\n          }\n        }\n      } else {\n        results[param.name] = args[index];\n      }\n    });\n    return {\n      eventName: event.name,\n      data: results,\n      transaction\n    };\n  }\n}\n\nfunction toEther(amount) {\n  return utils.formatEther(amount);\n}\n\n/**\n * Estimates the gas cost of Contract calls\n * @public\n */\nclass GasCostEstimator {\n  constructor(contractWrapper) {\n    this.contractWrapper = contractWrapper;\n  }\n\n  /**\n   * Estimates the cost of gas in native token of the current chain\n   * Pass in the same parameters as the contract's function.\n   * @remarks Estimate the cost of gas in native token of the current chain\n   * @example\n   * ```javascript\n   * const costOfClaim = await nftDrop?.estimator.gasCostOf(\"claim\", [\n   *   \"0x...\", // receiver\n   *   1, // quantity\n   *   \"0x...\", // currency\n   *   1, // price per token\n   *   [], // proofs\n   *   1, // proof max quantity per transaction\n   * ]);\n   * ```\n   * @returns The estimated price in native currency (ETH, MATIC, etc) of calling this function\n   * @public\n   */\n  async gasCostOf(\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  fn, args) {\n    const gasCost = await estimateTransactionCost(this.contractWrapper.getProvider(), await this.contractWrapper.populateTransaction(fn, args));\n    return toEther(gasCost);\n  }\n\n  /**\n   * Estimates the gas limit of a transaction\n   * Pass in the same parameters as the contract's function.\n   * @remarks Estimates the gas limit of a transaction\n   * @example\n   * ```javascript\n   * const gasLimitOfClaim = await nftDrop?.estimator.gasLimitOf(\"claim\", [\n   *   \"0x...\", // receiver\n   *   1, // quantity\n   *   \"0x...\", // currency\n   *   1, // price per token\n   *   [], // proofs\n   *   1, // proof max quantity per transaction\n   * ]);\n   * ```\n   * @returns The estimated gas limit of the transaction\n   * @public\n   */\n  async gasLimitOf(\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  fn, args) {\n    return this.contractWrapper.estimateGas(fn, args);\n  }\n\n  /**\n   * Returns the current gas price in gwei\n   * @remarks Get the current gas price in gwei\n   * @example\n   * ```javascript\n   * const gasCostInGwei = await contract.estimator.currentGasPriceInGwei();\n   * ```\n   * @returns The current gas price in gwei\n   * @public\n   */\n  async currentGasPriceInGwei() {\n    const price = await this.contractWrapper.getProvider().getGasPrice();\n    return utils.formatUnits(price, \"gwei\");\n  }\n}\n\n/**\n * Have an official Application URI for this contract.\n * @remarks Configure an official Application URI for this contract.\n * @example\n * ```javascript\n * const contract = await sdk.getContract(\"{{contract_address}}\");\n * const appURI = await contract.app.get();\n * appURI = \"ipfs://some_ipfs_hash\";\n *\n * await contract.app.set(appURI)\n * ```\n * @public\n */\nclass ContractAppURI {\n  featureName = FEATURE_APPURI.name;\n  constructor(contractWrapper, metadata, storage) {\n    this.contractWrapper = contractWrapper;\n    this.metadata = metadata;\n    this.storage = storage;\n  }\n\n  /**\n   * Get App URI\n   * @returns The appURI (typically an IPFS hash)\n   * @example\n   * ```javascript\n   * const appURI = await contract.app.get();\n   * console.log(appURI) // \"ipfs://some_ipfs_hash\";\n   * ```\n   * @twfeature AppURI\n   */\n  async get() {\n    if (detectContractFeature(this.contractWrapper, \"AppURI\")) {\n      return await this.contractWrapper.read(\"appURI\", []);\n    }\n    return replaceGatewayUrlWithScheme((await this.metadata.get()).app_uri || \"\", this.storage.getGatewayUrls());\n  }\n\n  /**\n   * Set App URI\n   * @param appURI - the uri to set (typically an IPFS hash)\n   * @example\n   * ```javascript\n   * const appURI = \"ipfs://some_ipfs_hash\";\n   * await contract.app.set(appURI);\n   * ```\n   * @twfeature AppURI\n   */\n  set = /* @__PURE__ */buildTransactionFunction(async appURI => {\n    if (detectContractFeature(this.contractWrapper, \"AppURI\")) {\n      return Transaction.fromContractWrapper({\n        contractWrapper: this.contractWrapper,\n        method: \"setAppURI\",\n        args: [appURI]\n      });\n    }\n    return await this.metadata.update.prepare({\n      app_uri: appURI\n    });\n  });\n}\n\nexport { ContractMetadata as C, GasCostEstimator as G, ContractEvents as a, ContractAppURI as b, detectContractFeature as d, hasFunction as h, toEther as t };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/contract-interceptor-d7b164a7.browser.esm.js"],"sourcesContent":["/**\n * Allows overriding transaction behavior for this contract\n * @internal\n */\nclass ContractInterceptor {\n  constructor(contractWrapper) {\n    this.contractWrapper = contractWrapper;\n  }\n\n  /**\n   * The next transaction executed will add/replace any overrides passed via the passed in hook.\n   * @remarks Overridden values will be applied to the next transaction executed.\n   * @example\n   * ```javascript\n   * contract.interceptor.overrideNextTransaction(() => ({\n   *   gasLimit: 3000000,\n   * }));\n   * ```\n   * @param hook - the hook to add or replace any CallOverrides (gas limit, gas price, nonce, from, value, etc...)\n   * @public\n   */\n  overrideNextTransaction(hook) {\n    this.contractWrapper.withTransactionOverride(hook);\n  }\n}\n\nexport { ContractInterceptor as C };\n"],"names":[],"mappings":"AAAA;;;CAGC;;;AACD,MAAM;IACJ,YAAY,eAAe,CAAE;QAC3B,IAAI,CAAC,eAAe,GAAG;IACzB;IAEA;;;;;;;;;;;GAWC,GACD,wBAAwB,IAAI,EAAE;QAC5B,IAAI,CAAC,eAAe,CAAC,uBAAuB,CAAC;IAC/C;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/contract-platform-fee-e756e68f.browser.esm.js"],"sourcesContent":["import { f as buildTransactionFunction, T as Transaction } from './transactions-72f9603c.browser.esm.js';\nimport { du as FEATURE_PLATFORM_FEE, bH as CommonPlatformFeeSchema } from './index-33cd3415.browser.esm.js';\n\n/**\n * Handle platform fees and recipients\n * @remarks Configure platform fees for a contract, which can be applied on certain paid transactions\n * @example\n * ```javascript\n * const contract = await sdk.getContract(\"{{contract_address}}\");\n * const feeInfo = await contract.platformFees.get();\n * await contract.platformFees.set({\n *   platform_fee_basis_points: 100, // 1% fee\n *   platform_fee_recipient: \"0x...\" // the fee recipient\n * })\n * ```\n * @public\n */\nclass ContractPlatformFee {\n  featureName = FEATURE_PLATFORM_FEE.name;\n  constructor(contractWrapper) {\n    this.contractWrapper = contractWrapper;\n  }\n\n  /**\n   * Get the platform fee recipient and basis points\n   *\n   * @example\n   * ```javascript\n   * const feeInfo = await contract.platformFees.get();\n   * console.log(feeInfo.platform_fee_recipient);\n   * console.log(feeInfo.platform_fee_basis_points);\n   * ```\n   * @twfeature PlatformFee\n   */\n  async get() {\n    const [platformFeeRecipient, platformFeeBps] = await this.contractWrapper.read(\"getPlatformFeeInfo\", []);\n    return CommonPlatformFeeSchema.parseAsync({\n      platform_fee_recipient: platformFeeRecipient,\n      platform_fee_basis_points: platformFeeBps\n    });\n  }\n\n  /**\n   * Set the platform fee recipient and basis points\n   *\n   * @example\n   * ```javascript\n   * await contract.platformFees.set({\n   *   platform_fee_basis_points: 100, // 1% fee\n   *   platform_fee_recipient: \"0x...\" // the fee recipient\n   * })\n   * ```\n   *\n   * @param platformFeeInfo - the platform fee information\n   * @twfeature PlatformFee\n   */\n  set = /* @__PURE__ */buildTransactionFunction(async platformFeeInfo => {\n    const parsed = await CommonPlatformFeeSchema.parseAsync(platformFeeInfo);\n    return Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"setPlatformFeeInfo\",\n      args: [parsed.platform_fee_recipient, parsed.platform_fee_basis_points]\n    });\n  });\n}\n\nexport { ContractPlatformFee as C };\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA;;;;;;;;;;;;;CAaC,GACD,MAAM;IACJ,cAAc,0LAAA,CAAA,KAAoB,CAAC,IAAI,CAAC;IACxC,YAAY,eAAe,CAAE;QAC3B,IAAI,CAAC,eAAe,GAAG;IACzB;IAEA;;;;;;;;;;GAUC,GACD,MAAM,MAAM;QACV,MAAM,CAAC,sBAAsB,eAAe,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,sBAAsB,EAAE;QACvG,OAAO,0LAAA,CAAA,KAAuB,CAAC,UAAU,CAAC;YACxC,wBAAwB;YACxB,2BAA2B;QAC7B;IACF;IAEA;;;;;;;;;;;;;GAaC,GACD,MAAM,aAAa,GAAE,CAAA,GAAA,iMAAA,CAAA,IAAwB,AAAD,EAAE,OAAM;QAClD,MAAM,SAAS,MAAM,0LAAA,CAAA,KAAuB,CAAC,UAAU,CAAC;QACxD,OAAO,iMAAA,CAAA,IAAW,CAAC,mBAAmB,CAAC;YACrC,iBAAiB,IAAI,CAAC,eAAe;YACrC,QAAQ;YACR,MAAM;gBAAC,OAAO,sBAAsB;gBAAE,OAAO,yBAAyB;aAAC;QACzE;IACF,GAAG;AACL","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 746, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/contract-roles-71988d2e.browser.esm.js"],"sourcesContent":["import invariant from 'tiny-invariant';\nimport { d4 as FEATURE_PERMISSIONS, H as getRoleHash, aL as resolveAddress, o as MissingRoleError } from './index-33cd3415.browser.esm.js';\nimport { h as hasFunction } from './contract-appuri-5c40af52.browser.esm.js';\nimport { f as buildTransactionFunction, T as Transaction } from './transactions-72f9603c.browser.esm.js';\nimport { C as ContractEncoder } from './fetchCurrencyValue-32d08b05.browser.esm.js';\n\n/**\n * Handle contract permissions\n * @remarks Configure roles and permissions for a contract, to restrict certain actions.\n * @example\n * ```javascript\n * const contract = await sdk.getContract(\"{{contract_address}}\");\n * const rolesAndMembers = await contract.roles.getAll();\n * await contract.roles.grantRole(\"admin\", \"0x...\");\n * ```\n * @public\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars -- TO BE REMOVED IN V4\nclass ContractRoles {\n  featureName = FEATURE_PERMISSIONS.name;\n\n  /**\n   * @internal\n   * @remarks This is used for typing inside react hooks which is why it has to be public.\n   */\n\n  constructor(contractWrapper, roles) {\n    this.contractWrapper = contractWrapper;\n    this.roles = roles;\n  }\n\n  /** **************************\n   * READ FUNCTIONS\n   ****************************/\n\n  /**\n   * Get all members of all roles\n   * @remarks See {@link ContractRoles.get} to get a list of addresses that are members of a specific role.\n   * @example\n   * ```javascript\n   * const rolesAndMembers = await contract.roles.getAll();\n   * ```\n   * @returns A record of {@link Role}s to lists of addresses that are members of the given role.\n   * @throws If the contract does not support roles this will throw an error.\n   *\n   * @public\n   * @twfeature PermissionsEnumerable\n   */\n  async getAll() {\n    invariant(this.roles.length, \"this contract has no support for roles\");\n    const roles = {};\n    const entries = Object.entries(this.roles);\n    (await Promise.all(entries.map(_ref => {\n      let [, role] = _ref;\n      return this.get(role);\n    }))).forEach((item, index) => roles[entries[index][1]] = item);\n    return roles;\n  }\n\n  /**\n   * Get all members of a specific role\n   * @remarks See {@link ContractRoles.getAll} to get get a list of addresses for all supported roles on the contract.\n   * @param role - The Role to get a memberlist for.\n   * @returns The list of addresses that are members of the specific role.\n   * @throws If you are requesting a role that does not exist on the contract this will throw an error.\n   *\n   * @example Say you want to get the list of addresses that are members of the minter role.\n   * ```javascript\n   * const minterAddresses = await contract.roles.get(\"minter\");\n   * ```\n   *\n   * @public\n   * @twfeature Permissions\n   */\n  async get(role) {\n    invariant(this.roles.includes(role), `this contract does not support the \"${role}\" role`);\n    const wrapper = this.contractWrapper;\n    if (hasFunction(\"getRoleMemberCount\", wrapper) && hasFunction(\"getRoleMember\", wrapper)) {\n      const roleHash = getRoleHash(role);\n      const count = (await wrapper.read(\"getRoleMemberCount\", [roleHash])).toNumber();\n      return await Promise.all(Array.from(Array(count).keys()).map(i => wrapper.read(\"getRoleMember\", [roleHash, i])));\n    }\n    throw new Error(\"Contract does not support enumerating roles. Please implement IPermissionsEnumerable to unlock this functionality.\");\n  }\n\n  /**\n   * Overwrite the list of members for specific roles\n   *\n   * @remarks Every role in the list will be overwritten with the new list of addresses provided with them.\n   * If you want to add or remove addresses for a single address use {@link ContractRoles.grant} and {@link ContractRoles.revoke} respectively instead.\n   * @param rolesWithAddresses - A record of {@link Role}s to lists of addresses that should be members of the given role.\n   * @throws If you are requesting a role that does not exist on the contract this will throw an error.\n   * @example Say you want to overwrite the list of addresses that are members of the minter role.\n   * ```javascript\n   * const minterAddresses = await contract.roles.get(\"minter\");\n   * await contract.roles.setAll({\n   *  minter: []\n   * });\n   * console.log(await contract.roles.get(\"minter\")); // No matter what members had the role before, the new list will be set to []\n   * ```\n   * @public\n   * @twfeature Permissions\n   *\n   * */\n  setAll = /* @__PURE__ */buildTransactionFunction(async (rolesWithAddresses, actingAddress) => {\n    // if we are removing multiple roles, we need to allways remove the connected wallet address *last*\n    // this is so we don't renounce (i.e.)  admin role first and then try to revoke someone else's (i.e.) admin role after (which will revert the entire txn because we are no longer an admin)\n    // if it is explicitly passed in (i.e. for estimation) we use that value, otherwise we get it from the connected signer\n    const connectedWalletAddress = actingAddress || (await this.contractWrapper.getSignerAddress());\n    const contractEncoder = new ContractEncoder(this.contractWrapper);\n    const roles = Object.keys(rolesWithAddresses);\n    invariant(roles.length, \"you must provide at least one role to set\");\n    invariant(roles.every(role => this.roles.includes(role)), \"this contract does not support the given role\");\n    const currentRoles = await this.getAll();\n    const encoded = [];\n    // add / remove admin role at the end so we don't revoke admin then grant\n    const sortedRoles = roles.sort(role => role === \"admin\" ? 1 : -1);\n    for (let i = 0; i < sortedRoles.length; i++) {\n      const role = sortedRoles[i];\n      const [addresses, currentAddresses] = await Promise.all([Promise.all(rolesWithAddresses[role]?.map(addressOrEns => resolveAddress(addressOrEns)) || []), Promise.all(currentRoles[role]?.map(addressOrEns => resolveAddress(addressOrEns)) || [])]);\n      const toAdd = addresses.filter(address => !currentAddresses.includes(address));\n      const toRemove = currentAddresses.filter(address => !addresses.includes(address));\n\n      // if we're removing more than one address we have to make sure we always remove the *connected* (acting) wallet address first\n      // otherwise we'll revoke the connected wallet address and then try to revoke someone else's address which will revert the entire txn\n      if (toRemove.length > 1) {\n        const index = toRemove.indexOf(connectedWalletAddress);\n        if (index > -1) {\n          toRemove.splice(index, 1);\n          toRemove.push(connectedWalletAddress);\n        }\n      }\n      if (toAdd.length) {\n        toAdd.forEach(address => {\n          encoded.push(contractEncoder.encode(\"grantRole\", [getRoleHash(role), address]));\n        });\n      }\n      if (toRemove.length) {\n        const revokeFunctionNames = await Promise.all(toRemove.map(address => this.getRevokeRoleFunctionName(address)));\n        revokeFunctionNames.forEach((revokeFunctionName, index) => encoded.push(contractEncoder.encode(revokeFunctionName, [getRoleHash(role), toRemove[index]])));\n      }\n    }\n    return Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"multicall\",\n      args: [encoded]\n    });\n  });\n\n  /**\n   * Throws an error if an address is missing the roles specified.\n   *\n   * @param roles - The roles to check\n   * @param address - The address to check\n   *\n   * @internal\n   */\n  async verify(roles, address) {\n    await Promise.all(roles.map(async role => {\n      const [members, resolvedAddress] = await Promise.all([this.get(role), resolveAddress(address)]);\n      if (!members.map(a => a.toLowerCase()).includes(resolvedAddress.toLowerCase())) {\n        throw new MissingRoleError(resolvedAddress, role);\n      }\n    }));\n  }\n\n  /** **************************\n   * WRITE FUNCTIONS\n   ****************************/\n\n  /**\n   * Grant a role to a specific address\n   *\n   * @remarks Make sure you are sure you want to grant the role to the address.\n   *\n   * @example\n   * ```javascript\n   * await contract.roles.grant(\"minter\", \"{{wallet_address}}\");\n   * ```\n   *\n   * @param role - The {@link Role} to grant to the address\n   * @param address - The address to grant the role to\n   * @returns The transaction receipt\n   * @throws If you are trying to grant does not exist on the contract this will throw an error.\n   *\n   * @public\n   * @twfeature Permissions\n   */\n  grant = /* @__PURE__ */buildTransactionFunction(async (role, address) => {\n    invariant(this.roles.includes(role), `this contract does not support the \"${role}\" role`);\n    const resolvedAddress = await resolveAddress(address);\n    return Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"grantRole\",\n      args: [getRoleHash(role), resolvedAddress]\n    });\n  });\n\n  /**\n   * Revoke a role from a specific address\n   *\n   * @remarks\n   *\n   * -- Caution --\n   *\n   * This will let you remove yourself from the role, too.\n   * If you remove yourself from the admin role, you will no longer be able to administer the contract.\n   * There is no way to recover from this.\n   *\n   * @example\n   * ```javascript\n   * await contract.roles.revoke(\"minter\", \"{{wallet_address}}\");\n   * ```\n   *\n   * @param role - The {@link Role} to revoke\n   * @param address - The address to revoke the role from\n   * @returns The transaction receipt\n   * @throws If you are trying to revoke does not exist on the module this will throw an error.\n   *\n   * @public\n   * @twfeature Permissions\n   */\n  revoke = /* @__PURE__ */buildTransactionFunction(async (role, address) => {\n    invariant(this.roles.includes(role), `this contract does not support the \"${role}\" role`);\n    const resolvedAddress = await resolveAddress(address);\n    const revokeFunctionName = await this.getRevokeRoleFunctionName(resolvedAddress);\n    return Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: revokeFunctionName,\n      args: [getRoleHash(role), resolvedAddress]\n    });\n  });\n\n  /** **************************\n   * PRIVATE FUNCTIONS\n   ****************************/\n\n  async getRevokeRoleFunctionName(address) {\n    const [resolvedAddress, signerAddress] = await Promise.all([resolveAddress(address), this.contractWrapper.getSignerAddress()]);\n    if (signerAddress.toLowerCase() === resolvedAddress.toLowerCase()) {\n      return \"renounceRole\";\n    }\n    return \"revokeRole\";\n  }\n}\n\nexport { ContractRoles as C };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1009, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/cleanCurrencyAddress-ded19cfe.browser.esm.js"],"sourcesContent":["import { aV as NATIVE_TOKEN_ADDRESS } from './index-33cd3415.browser.esm.js';\nimport { i as isNativeToken } from './fetchCurrencyValue-32d08b05.browser.esm.js';\n\n/**\n * @internal\n */\nfunction cleanCurrencyAddress(currencyAddress) {\n  if (isNativeToken(currencyAddress)) {\n    return NATIVE_TOKEN_ADDRESS;\n  }\n  return currencyAddress;\n}\n\nexport { cleanCurrencyAddress as c };\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA;;CAEC,GACD,SAAS,qBAAqB,eAAe;IAC3C,IAAI,CAAA,GAAA,uMAAA,CAAA,IAAa,AAAD,EAAE,kBAAkB;QAClC,OAAO,0LAAA,CAAA,KAAoB;IAC7B;IACA,OAAO;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1031, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/QueryParams-32a56510.browser.esm.js"],"sourcesContent":["import { a as CommonNFTOutput, C as CommonNFTInput } from './setErc20Allowance-7f76f677.browser.esm.js';\nimport { utils, BigNumber, Contract } from 'ethers';\nimport 'zod';\n\n/**\n * @internal\n */\n\n/**\n * @internal\n */\nconst InterfaceId_IERC721 = /* @__PURE__ */(() => utils.arrayify(\"0x80ac58cd\"))();\n\n/**\n * @internal\n */\nconst InterfaceId_IERC1155 = /* @__PURE__ */(() => utils.arrayify(\"0xd9b67a26\"))();\n\nconst FALLBACK_METADATA = {\n  name: \"Failed to load NFT metadata\"\n};\n\n/**\n * fetches the token metadata\n * @param tokenId - the id (to get it back in the output)\n * @param tokenUri - the uri to fetch\n * @param storage - which storage to fetch from\n *\n * @internal\n */\nasync function fetchTokenMetadata(tokenId, tokenUri, storage) {\n  // check for base64 encoded JSON\n  if (tokenUri.startsWith(\"data:application/json;base64\") && typeof Buffer !== \"undefined\") {\n    const base64 = tokenUri.split(\",\")[1];\n    const jsonMetadata = JSON.parse(Buffer.from(base64, \"base64\").toString(\"utf-8\"));\n    return CommonNFTOutput.parse({\n      ...jsonMetadata,\n      id: BigNumber.from(tokenId).toString(),\n      uri: tokenUri\n    });\n  }\n  // handle dynamic id URIs (2 possible formats)\n  const parsedUri = tokenUri.replace(\"{id}\", utils.hexZeroPad(BigNumber.from(tokenId).toHexString(), 32).slice(2));\n  let jsonMetadata;\n  try {\n    jsonMetadata = await storage.downloadJSON(parsedUri);\n  } catch (err) {\n    const unparsedTokenIdUri = tokenUri.replace(\"{id}\", BigNumber.from(tokenId).toString());\n    try {\n      jsonMetadata = await storage.downloadJSON(unparsedTokenIdUri);\n    } catch (e) {\n      console.warn(`failed to get token metadata: ${JSON.stringify({\n        tokenId: tokenId.toString(),\n        tokenUri\n      })} -- falling back to default metadata`);\n      jsonMetadata = FALLBACK_METADATA;\n    }\n  }\n  return CommonNFTOutput.parse({\n    ...jsonMetadata,\n    id: BigNumber.from(tokenId).toString(),\n    uri: tokenUri\n  });\n}\n\n// Used for marketplace to fetch NFT metadata from contract address + tokenId\n/**\n * @internal\n * @param contractAddress - the contract address\n * @param provider - the provider to use\n * @param tokenId - the token id\n * @param storage - the storage to use\n */\nasync function fetchTokenMetadataForContract(contractAddress, provider, tokenId, storage) {\n  let uri;\n  const ERC165MetadataAbi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC165.json')).default;\n  const erc165 = new Contract(contractAddress, ERC165MetadataAbi, provider);\n  const [isERC721, isERC1155] = await Promise.all([erc165.supportsInterface(InterfaceId_IERC721), erc165.supportsInterface(InterfaceId_IERC1155)]);\n  if (isERC721) {\n    const ERC721MetadataAbi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC721Metadata.json')).default;\n    const erc721 = new Contract(contractAddress, ERC721MetadataAbi, provider);\n    uri = await erc721.tokenURI(tokenId);\n  } else if (isERC1155) {\n    const ERC1155MetadataAbi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC1155Metadata.json')).default;\n    const erc1155 = new Contract(contractAddress, ERC1155MetadataAbi, provider);\n    uri = await erc1155.uri(tokenId);\n  } else {\n    throw Error(\"Contract must implement ERC 1155 or ERC 721.\");\n  }\n  if (!uri) {\n    // no uri found, return fallback metadata\n    return CommonNFTOutput.parse({\n      ...FALLBACK_METADATA,\n      id: BigNumber.from(tokenId).toString(),\n      uri: \"\"\n    });\n  }\n  return fetchTokenMetadata(tokenId, uri, storage);\n}\n\n/**\n * @internal\n * @param metadata - the metadata to upload\n * @param storage - the storage to use\n */\nasync function uploadOrExtractURI(metadata, storage) {\n  if (typeof metadata === \"string\") {\n    return metadata;\n  } else {\n    return await storage.upload(CommonNFTInput.parse(metadata));\n  }\n}\n\n/**\n * @internal\n * @param metadatas - the metadata to upload\n * @param storage - the storage to use\n * @param startNumber - the number to start the file names at\n * @param contractAddress - the contract address\n * @param signerAddress - the signer address\n * @param options - options\n */\nasync function uploadOrExtractURIs(metadatas, storage, startNumber, options) {\n  if (isUriList(metadatas)) {\n    return metadatas;\n  } else if (isMetadataList(metadatas)) {\n    const uris = await storage.uploadBatch(metadatas.map(m => CommonNFTInput.parse(m)), {\n      rewriteFileNames: {\n        fileStartNumber: startNumber || 0\n      },\n      onProgress: options?.onProgress\n    });\n    return uris;\n  } else {\n    throw new Error(\"NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)\");\n  }\n}\nfunction getBaseUriFromBatch(uris) {\n  const baseUri = uris[0].substring(0, uris[0].lastIndexOf(\"/\"));\n  for (let i = 0; i < uris.length; i++) {\n    const uri = uris[i].substring(0, uris[i].lastIndexOf(\"/\"));\n    if (baseUri !== uri) {\n      throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${baseUri}' but got '${uri}'`);\n    }\n  }\n\n  // Ensure that baseUri ends with trailing slash\n  return baseUri.replace(/\\/$/, \"\") + \"/\";\n}\nfunction isUriList(metadatas) {\n  return metadatas.find(m => typeof m !== \"string\") === undefined;\n}\nfunction isMetadataList(metadatas) {\n  return metadatas.find(m => typeof m !== \"object\") === undefined;\n}\n\n/**\n * @internal\n */\nconst DEFAULT_QUERY_ALL_COUNT = 100;\n\n/**\n * Pagination Parameters\n * @public\n */\n\nexport { DEFAULT_QUERY_ALL_COUNT as D, FALLBACK_METADATA as F, InterfaceId_IERC721 as I, InterfaceId_IERC1155 as a, uploadOrExtractURI as b, fetchTokenMetadataForContract as c, fetchTokenMetadata as f, getBaseUriFromBatch as g, uploadOrExtractURIs as u };\n"],"names":[],"mappings":";;;;;;;;;;;AAgCoE;AAhCpE;AACA;AAAA;AAAA;;;;AAGA;;CAEC,GAED;;CAEC,GACD,MAAM,sBAAsB,aAAa,GAAE,CAAC,IAAM,iLAAA,CAAA,QAAK,CAAC,QAAQ,CAAC,aAAa;AAE9E;;CAEC,GACD,MAAM,uBAAuB,aAAa,GAAE,CAAC,IAAM,iLAAA,CAAA,QAAK,CAAC,QAAQ,CAAC,aAAa;AAE/E,MAAM,oBAAoB;IACxB,MAAM;AACR;AAEA;;;;;;;CAOC,GACD,eAAe,mBAAmB,OAAO,EAAE,QAAQ,EAAE,OAAO;IAC1D,gCAAgC;IAChC,IAAI,SAAS,UAAU,CAAC,mCAAmC,OAAO,8JAAA,CAAA,SAAM,KAAK,aAAa;QACxF,MAAM,SAAS,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE;QACrC,MAAM,eAAe,KAAK,KAAK,CAAC,8JAAA,CAAA,SAAM,CAAC,IAAI,CAAC,QAAQ,UAAU,QAAQ,CAAC;QACvE,OAAO,sMAAA,CAAA,IAAe,CAAC,KAAK,CAAC;YAC3B,GAAG,YAAY;YACf,IAAI,0KAAA,CAAA,YAAS,CAAC,IAAI,CAAC,SAAS,QAAQ;YACpC,KAAK;QACP;IACF;IACA,8CAA8C;IAC9C,MAAM,YAAY,SAAS,OAAO,CAAC,QAAQ,iLAAA,CAAA,QAAK,CAAC,UAAU,CAAC,0KAAA,CAAA,YAAS,CAAC,IAAI,CAAC,SAAS,WAAW,IAAI,IAAI,KAAK,CAAC;IAC7G,IAAI;IACJ,IAAI;QACF,eAAe,MAAM,QAAQ,YAAY,CAAC;IAC5C,EAAE,OAAO,KAAK;QACZ,MAAM,qBAAqB,SAAS,OAAO,CAAC,QAAQ,0KAAA,CAAA,YAAS,CAAC,IAAI,CAAC,SAAS,QAAQ;QACpF,IAAI;YACF,eAAe,MAAM,QAAQ,YAAY,CAAC;QAC5C,EAAE,OAAO,GAAG;YACV,QAAQ,IAAI,CAAC,CAAC,8BAA8B,EAAE,KAAK,SAAS,CAAC;gBAC3D,SAAS,QAAQ,QAAQ;gBACzB;YACF,GAAG,oCAAoC,CAAC;YACxC,eAAe;QACjB;IACF;IACA,OAAO,sMAAA,CAAA,IAAe,CAAC,KAAK,CAAC;QAC3B,GAAG,YAAY;QACf,IAAI,0KAAA,CAAA,YAAS,CAAC,IAAI,CAAC,SAAS,QAAQ;QACpC,KAAK;IACP;AACF;AAEA,6EAA6E;AAC7E;;;;;;CAMC,GACD,eAAe,8BAA8B,eAAe,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO;IACtF,IAAI;IACJ,MAAM,oBAAoB,CAAC,uJAAiE,EAAE,OAAO;IACrG,MAAM,SAAS,IAAI,sKAAA,CAAA,WAAQ,CAAC,iBAAiB,mBAAmB;IAChE,MAAM,CAAC,UAAU,UAAU,GAAG,MAAM,QAAQ,GAAG,CAAC;QAAC,OAAO,iBAAiB,CAAC;QAAsB,OAAO,iBAAiB,CAAC;KAAsB;IAC/I,IAAI,UAAU;QACZ,MAAM,oBAAoB,CAAC,+JAAyE,EAAE,OAAO;QAC7G,MAAM,SAAS,IAAI,sKAAA,CAAA,WAAQ,CAAC,iBAAiB,mBAAmB;QAChE,MAAM,MAAM,OAAO,QAAQ,CAAC;IAC9B,OAAO,IAAI,WAAW;QACpB,MAAM,qBAAqB,CAAC,gKAA0E,EAAE,OAAO;QAC/G,MAAM,UAAU,IAAI,sKAAA,CAAA,WAAQ,CAAC,iBAAiB,oBAAoB;QAClE,MAAM,MAAM,QAAQ,GAAG,CAAC;IAC1B,OAAO;QACL,MAAM,MAAM;IACd;IACA,IAAI,CAAC,KAAK;QACR,yCAAyC;QACzC,OAAO,sMAAA,CAAA,IAAe,CAAC,KAAK,CAAC;YAC3B,GAAG,iBAAiB;YACpB,IAAI,0KAAA,CAAA,YAAS,CAAC,IAAI,CAAC,SAAS,QAAQ;YACpC,KAAK;QACP;IACF;IACA,OAAO,mBAAmB,SAAS,KAAK;AAC1C;AAEA;;;;CAIC,GACD,eAAe,mBAAmB,QAAQ,EAAE,OAAO;IACjD,IAAI,OAAO,aAAa,UAAU;QAChC,OAAO;IACT,OAAO;QACL,OAAO,MAAM,QAAQ,MAAM,CAAC,sMAAA,CAAA,IAAc,CAAC,KAAK,CAAC;IACnD;AACF;AAEA;;;;;;;;CAQC,GACD,eAAe,oBAAoB,SAAS,EAAE,OAAO,EAAE,WAAW,EAAE,OAAO;IACzE,IAAI,UAAU,YAAY;QACxB,OAAO;IACT,OAAO,IAAI,eAAe,YAAY;QACpC,MAAM,OAAO,MAAM,QAAQ,WAAW,CAAC,UAAU,GAAG,CAAC,CAAA,IAAK,sMAAA,CAAA,IAAc,CAAC,KAAK,CAAC,KAAK;YAClF,kBAAkB;gBAChB,iBAAiB,eAAe;YAClC;YACA,YAAY,SAAS;QACvB;QACA,OAAO;IACT,OAAO;QACL,MAAM,IAAI,MAAM;IAClB;AACF;AACA,SAAS,oBAAoB,IAAI;IAC/B,MAAM,UAAU,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC;IACzD,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;QACpC,MAAM,MAAM,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC;QACrD,IAAI,YAAY,KAAK;YACnB,MAAM,IAAI,MAAM,CAAC,uFAAuF,EAAE,QAAQ,WAAW,EAAE,IAAI,CAAC,CAAC;QACvI;IACF;IAEA,+CAA+C;IAC/C,OAAO,QAAQ,OAAO,CAAC,OAAO,MAAM;AACtC;AACA,SAAS,UAAU,SAAS;IAC1B,OAAO,UAAU,IAAI,CAAC,CAAA,IAAK,OAAO,MAAM,cAAc;AACxD;AACA,SAAS,eAAe,SAAS;IAC/B,OAAO,UAAU,IAAI,CAAC,CAAA,IAAK,OAAO,MAAM,cAAc;AACxD;AAEA;;CAEC,GACD,MAAM,0BAA0B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1199, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/marketplace-e3129e2f.browser.esm.js"],"sourcesContent":["import { Contract, BigNumber } from 'ethers';\nimport invariant from 'tiny-invariant';\nimport { I as InterfaceId_IERC721, a as InterfaceId_IERC1155, D as DEFAULT_QUERY_ALL_COUNT } from './QueryParams-32a56510.browser.esm.js';\nimport { cs as ContractWrapper, dE as MAX_BPS } from './index-33cd3415.browser.esm.js';\nimport { a as fetchCurrencyValue } from './fetchCurrencyValue-32d08b05.browser.esm.js';\n\n/**\n * This method checks if the given token is approved for the transferrerContractAddress contract.\n * This is particularly useful for contracts that need to transfer NFTs on the users' behalf\n *\n * @internal\n * @param provider - The connected provider\n * @param transferrerContractAddress - The address of the marketplace contract\n * @param assetContract - The address of the asset contract.\n * @param tokenId - The token id of the token.\n * @param owner - The address of the account that owns the token.\n * @returns  True if the transferrerContractAddress is approved on the token, false otherwise.\n */\nasync function isTokenApprovedForTransfer(provider, transferrerContractAddress, assetContract, tokenId, owner) {\n  try {\n    const ERC165Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC165.json')).default;\n    const erc165 = new Contract(assetContract, ERC165Abi, provider);\n    const [isERC721, isERC1155] = await Promise.all([erc165.supportsInterface(InterfaceId_IERC721), erc165.supportsInterface(InterfaceId_IERC1155)]);\n    if (isERC721) {\n      const ERC721Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC721.json')).default;\n      const asset = new Contract(assetContract, ERC721Abi, provider);\n      const approved = await asset.isApprovedForAll(owner, transferrerContractAddress);\n      if (approved) {\n        return true;\n      }\n\n      // Handle reverts in case of non-existent tokens\n      let approvedAddress;\n      try {\n        approvedAddress = await asset.getApproved(tokenId);\n      } catch (e) {}\n      return approvedAddress?.toLowerCase() === transferrerContractAddress.toLowerCase();\n    } else if (isERC1155) {\n      const ERC1155Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC1155.json')).default;\n      const asset = new Contract(assetContract, ERC1155Abi, provider);\n      return await asset.isApprovedForAll(owner, transferrerContractAddress);\n    } else {\n      console.error(\"Contract does not implement ERC 1155 or ERC 721.\");\n      return false;\n    }\n  } catch (err) {\n    console.error(\"Failed to check if token is approved\", err);\n    return false;\n  }\n}\n\n/**\n * Checks if the marketplace is approved to make transfers on the assetContract\n * If not, it tries to set the approval.\n * @param contractWrapper - The contract wrapper to use\n * @param marketplaceAddress - The address of the marketplace contract\n * @param assetContract - The address of the asset contract.\n * @param tokenId - The token id of the token.\n * @param from - The address of the account that owns the token.\n */\nasync function handleTokenApproval(contractWrapper, marketplaceAddress, assetContract, tokenId, from) {\n  const ERC165Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC165.json')).default;\n  const erc165 = new ContractWrapper(contractWrapper.getSignerOrProvider(), assetContract, ERC165Abi, contractWrapper.options, contractWrapper.storage);\n  const [isERC721, isERC1155] = await Promise.all([erc165.read(\"supportsInterface\", [InterfaceId_IERC721]), erc165.read(\"supportsInterface\", [InterfaceId_IERC1155])]);\n  // check for token approval\n  if (isERC721) {\n    const ERC721Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC721.json')).default;\n    const asset = new ContractWrapper(contractWrapper.getSignerOrProvider(), assetContract, ERC721Abi, contractWrapper.options, contractWrapper.storage);\n    const approved = await asset.read(\"isApprovedForAll\", [from, marketplaceAddress]);\n    if (!approved) {\n      const isTokenApproved = (await asset.read(\"getApproved\", [tokenId])).toLowerCase() === marketplaceAddress.toLowerCase();\n      if (!isTokenApproved) {\n        await asset.sendTransaction(\"setApprovalForAll\", [marketplaceAddress, true]);\n      }\n    }\n  } else if (isERC1155) {\n    const ERC1155Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC1155.json')).default;\n    const asset = new ContractWrapper(contractWrapper.getSignerOrProvider(), assetContract, ERC1155Abi, contractWrapper.options, contractWrapper.storage);\n    const approved = await asset.read(\"isApprovedForAll\", [from, marketplaceAddress]);\n    if (!approved) {\n      await asset.sendTransaction(\"setApprovalForAll\", [marketplaceAddress, true]);\n    }\n  } else {\n    throw Error(\"Contract must implement ERC 1155 or ERC 721.\");\n  }\n}\n\n/**\n * Used to verify fields in new listing.\n * @internal\n */\n// TODO this should be done in zod\nfunction validateNewListingParam(param) {\n  invariant(param.assetContractAddress !== undefined && param.assetContractAddress !== null, \"Asset contract address is required\");\n  invariant(param.buyoutPricePerToken !== undefined && param.buyoutPricePerToken !== null, \"Buyout price is required\");\n  invariant(param.listingDurationInSeconds !== undefined && param.listingDurationInSeconds !== null, \"Listing duration is required\");\n  invariant(param.startTimestamp !== undefined && param.startTimestamp !== null, \"Start time is required\");\n  invariant(param.tokenId !== undefined && param.tokenId !== null, \"Token ID is required\");\n  invariant(param.quantity !== undefined && param.quantity !== null, \"Quantity is required\");\n  switch (param.type) {\n    case \"NewAuctionListing\":\n      {\n        invariant(param.reservePricePerToken !== undefined && param.reservePricePerToken !== null, \"Reserve price is required\");\n      }\n  }\n}\n\n/**\n * Maps a contract offer to the strict interface\n *\n * @internal\n * @param offer - The offer to map\n * @returns  An `Offer` object\n */\nasync function mapOffer(provider, listingId, offer) {\n  return {\n    quantity: offer.quantityDesired,\n    pricePerToken: offer.pricePerToken,\n    currencyContractAddress: offer.currency,\n    buyerAddress: offer.offeror,\n    quantityDesired: offer.quantityWanted,\n    currencyValue: await fetchCurrencyValue(provider, offer.currency, offer.quantityWanted.mul(offer.pricePerToken)),\n    listingId\n  };\n}\nfunction isWinningBid(winningPrice, newBidPrice, bidBuffer) {\n  bidBuffer = BigNumber.from(bidBuffer);\n  winningPrice = BigNumber.from(winningPrice);\n  newBidPrice = BigNumber.from(newBidPrice);\n  if (winningPrice.eq(BigNumber.from(0))) {\n    return false;\n  }\n  const buffer = newBidPrice.sub(winningPrice).mul(MAX_BPS).div(winningPrice);\n  return buffer.gte(bidBuffer);\n}\nasync function getAllInBatches(start, end, fn) {\n  const batches = [];\n  while (end - start > DEFAULT_QUERY_ALL_COUNT) {\n    batches.push(fn(start, start + DEFAULT_QUERY_ALL_COUNT - 1));\n    start += DEFAULT_QUERY_ALL_COUNT;\n  }\n  batches.push(fn(start, end - 1));\n  return await Promise.all(batches);\n}\n\nexport { isWinningBid as a, getAllInBatches as g, handleTokenApproval as h, isTokenApprovedForTransfer as i, mapOffer as m, validateNewListingParam as v };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1379, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/marketplacev3-offers-ce1f096b.browser.esm.js"],"sourcesContent":["import { BigNumber, Contract, constants, utils } from 'ethers';\nimport invariant from 'tiny-invariant';\nimport { c as cleanCurrencyAddress } from './cleanCurrencyAddress-ded19cfe.browser.esm.js';\nimport { C as ContractEncoder, a as fetchCurrencyValue, f as fetchCurrencyMetadata, i as isNativeToken } from './fetchCurrencyValue-32d08b05.browser.esm.js';\nimport { n as normalizePriceValue } from './normalizePriceValue-9851c0eb.browser.esm.js';\nimport { s as setErc20Allowance } from './setErc20Allowance-7f76f677.browser.esm.js';\nimport { b9 as AddressOrEnsSchema, b6 as BigNumberishSchema, aV as NATIVE_TOKEN_ADDRESS, cw as AmountSchema, dA as FEATURE_DIRECT_LISTINGS, aL as resolveAddress, dB as FEATURE_ENGLISH_AUCTIONS, w as AuctionHasNotEndedError, dC as FEATURE_OFFERS, aW as NATIVE_TOKENS, cs as ContractWrapper } from './index-33cd3415.browser.esm.js';\nimport { g as getAllInBatches, i as isTokenApprovedForTransfer, h as handleTokenApproval } from './marketplace-e3129e2f.browser.esm.js';\nimport { c as fetchTokenMetadataForContract, I as InterfaceId_IERC721, a as InterfaceId_IERC1155 } from './QueryParams-32a56510.browser.esm.js';\nimport { f as buildTransactionFunction, T as Transaction } from './transactions-72f9603c.browser.esm.js';\nimport { R as RawDateSchema, E as EndDateSchema } from './assertEnabled-d1700f0b.browser.esm.js';\nimport { z } from 'zod';\nimport { a as ContractEvents, G as GasCostEstimator } from './contract-appuri-5c40af52.browser.esm.js';\nimport { C as ContractInterceptor } from './contract-interceptor-d7b164a7.browser.esm.js';\n\n/**\n * @internal\n */\nconst DirectListingInputParamsSchema = /* @__PURE__ */(() => z.object({\n  /**\n   * The address of the asset being listed.\n   */\n  assetContractAddress: AddressOrEnsSchema,\n  /**\n   * The ID of the token to list.\n   */\n  tokenId: BigNumberishSchema,\n  /**\n   * The quantity of tokens to include in the listing.\n   *\n   * For ERC721s, this value should always be 1 (and will be forced internally regardless of what is passed here).\n   */\n  quantity: BigNumberishSchema.default(1),\n  /**\n   * The address of the currency to accept for the listing.\n   */\n  currencyContractAddress: AddressOrEnsSchema.default(NATIVE_TOKEN_ADDRESS),\n  /**\n   * The price to pay per unit of NFTs listed.\n   */\n  pricePerToken: AmountSchema,\n  /**\n   * The start time of the listing.\n   */\n  startTimestamp: RawDateSchema.default(new Date()),\n  /**\n   * The end time of the listing.\n   */\n  endTimestamp: EndDateSchema,\n  /**\n   * Whether the listing is reserved to be bought from a specific set of buyers.\n   */\n  isReservedListing: z.boolean().default(false)\n}))();\n\n/**\n * @public\n */\n\nlet Status = /*#__PURE__*/function (Status) {\n  Status[Status[\"UNSET\"] = 0] = \"UNSET\";\n  Status[Status[\"Created\"] = 1] = \"Created\";\n  Status[Status[\"Completed\"] = 2] = \"Completed\";\n  Status[Status[\"Cancelled\"] = 3] = \"Cancelled\";\n  Status[Status[\"Active\"] = 4] = \"Active\";\n  Status[Status[\"Expired\"] = 5] = \"Expired\";\n  return Status;\n}({});\n\n/**\n * Handles direct listings\n * @public\n */\nclass MarketplaceV3DirectListings {\n  featureName = FEATURE_DIRECT_LISTINGS.name;\n\n  // utilities\n\n  constructor(contractWrapper, storage) {\n    this.contractWrapper = contractWrapper;\n    this.storage = storage;\n    this.events = new ContractEvents(this.contractWrapper);\n    this.encoder = new ContractEncoder(this.contractWrapper);\n    this.interceptor = new ContractInterceptor(this.contractWrapper);\n    this.estimator = new GasCostEstimator(this.contractWrapper);\n  }\n  getAddress() {\n    return this.contractWrapper.address;\n  }\n\n  /** ******************************\n   * READ FUNCTIONS\n   *******************************/\n\n  /**\n   * Get the total number of direct listings\n   *\n   * @returns Returns the total number of direct listings created.\n   * @public\n   *\n   * @example\n   * ```javascript\n   * const totalListings = await contract.directListings.getTotalCount();\n   * ```\n   * @twfeature DirectListings\n   */\n  async getTotalCount() {\n    return await this.contractWrapper.read(\"totalListings\", []);\n  }\n\n  /**\n   * Get all direct listings\n   *\n   * @example\n   * ```javascript\n   * const listings = await contract.directListings.getAll();\n   * ```\n   *\n   * @param filter - optional filter parameters\n   * @returns The Direct listing object array\n   * @twfeature DirectListings\n   */\n  async getAll(filter) {\n    const totalListings = await this.getTotalCount();\n    const start = BigNumber.from(filter?.start || 0).toNumber();\n    const end = totalListings.toNumber();\n    if (end === 0) {\n      throw new Error(`No listings exist on the contract.`);\n    }\n    let rawListings = [];\n    const batches = await getAllInBatches(start, end, (startId, endId) => this.contractWrapper.read(\"getAllListings\", [startId, endId]));\n    rawListings = batches.flat();\n    const filteredListings = await this.applyFilter(rawListings, filter);\n    return await Promise.all(filteredListings.map(listing => this.mapListing(listing)));\n  }\n\n  /**\n   * Get all valid direct listings\n   *\n   * @remarks A valid listing is where the listing is active, and the creator still owns & has approved Marketplace to transfer the listed NFTs.\n   *\n   * @example\n   * ```javascript\n   * const listings = await contract.directListings.getAllValid();\n   * ```\n   *\n   * @param filter - optional filter parameters\n   * @returns The Direct listing object array\n   * @twfeature DirectListings\n   */\n  async getAllValid(filter) {\n    const totalListings = await this.getTotalCount();\n    const start = BigNumber.from(filter?.start || 0).toNumber();\n    const end = totalListings.toNumber();\n    if (end === 0) {\n      throw new Error(`No listings exist on the contract.`);\n    }\n    let rawListings = [];\n    const batches = await getAllInBatches(start, end, (startId, endId) => this.contractWrapper.read(\"getAllValidListings\", [startId, endId]));\n    rawListings = batches.flat();\n    const filteredListings = await this.applyFilter(rawListings, filter);\n    return await Promise.all(filteredListings.map(listing => this.mapListing(listing)));\n  }\n\n  /**\n   * Get a single direct listing\n   *\n   * @example\n   * ```javascript\n   * const listingId = 0;\n   * const listing = await contract.directListings.getListing(listingId);\n   * ```\n   *\n   * @param listingId - the listing id\n   * @returns The Direct listing object\n   *\n   * @example\n   * ```javascript\n   * const listingId = 0;\n   * const listing = await contract.directListings.getListing(listingId);\n   * ```\n   * @twfeature DirectListings\n   */\n  async getListing(listingId) {\n    const listing = await this.contractWrapper.read(\"getListing\", [listingId]);\n    return await this.mapListing(listing);\n  }\n\n  /**\n   * Check if a buyer is approved for a specific direct listing\n   *\n   * @example\n   * ```javascript\n   * const listingId = 0;\n   * const isBuyerApproved = await contract.directListings.isBuyerApprovedForListing(listingId, \"{{wallet_address}}\");\n   * ```\n   *\n   * @param listingId - the listing id\n   * @param buyer - buyer address\n   * @twfeature DirectListings\n   */\n  async isBuyerApprovedForListing(listingId, buyer) {\n    const listing = await this.validateListing(BigNumber.from(listingId));\n    if (!listing.isReservedListing) {\n      throw new Error(`Listing ${listingId} is not a reserved listing.`);\n    }\n    return await this.contractWrapper.read(\"isBuyerApprovedForListing\", [listingId, await resolveAddress(buyer)]);\n  }\n\n  /**\n   * Check if a currency is approved for a specific direct listing\n   *\n   * @example\n   * ```javascript\n   * const listingId = 0;\n   * const currencyContractAddress = '0x1234';\n   * const isApproved = await contract.directListings.isCurrencyApprovedForListing(listingId, currencyContractAddress);\n   * ```\n   *\n   * @param listingId - the listing id\n   * @param currency - currency address\n   * @twfeature DirectListings\n   */\n  async isCurrencyApprovedForListing(listingId, currency) {\n    await this.validateListing(BigNumber.from(listingId));\n    return await this.contractWrapper.read(\"isCurrencyApprovedForListing\", [listingId, await resolveAddress(currency)]);\n  }\n\n  /**\n   * Check price per token for an approved currency\n   *\n   * @example\n   * ```javascript\n   * const listingId = 0;\n   * const currencyContractAddress = '0x1234';\n   * const price = await contract.directListings.currencyPriceForListing(listingId, currencyContractAddress);\n   * ```\n   *\n   * @param listingId - the listing id\n   * @param currencyContractAddress - currency contract address\n   * @twfeature DirectListings\n   */\n  async currencyPriceForListing(listingId, currencyContractAddress) {\n    const listing = await this.validateListing(BigNumber.from(listingId));\n    const resolvedCurrencyAddress = await resolveAddress(currencyContractAddress);\n    if (resolvedCurrencyAddress === listing.currencyContractAddress) {\n      return listing.pricePerToken;\n    }\n    const isApprovedCurrency = await this.isCurrencyApprovedForListing(listingId, resolvedCurrencyAddress);\n    if (!isApprovedCurrency) {\n      throw new Error(`Currency ${resolvedCurrencyAddress} is not approved for Listing ${listingId}.`);\n    }\n    return await this.contractWrapper.read(\"currencyPriceForListing\", [listingId, resolvedCurrencyAddress]);\n  }\n\n  /** ******************************\n   * WRITE FUNCTIONS\n   *******************************/\n\n  /**\n   * Create new direct listing\n   *\n   * @remarks Create a new listing on the marketplace where people can buy an asset directly.\n   *\n   * @example\n   * ```javascript\n   * // Data of the listing you want to create\n   * const listing = {\n   *   // address of the contract the asset you want to list is on\n   *   assetContractAddress: \"0x...\",\n   *   // token ID of the asset you want to list\n   *   tokenId: \"0\",\n   *   // how many of the asset you want to list\n   *   quantity: 1,\n   *   // address of the currency contract that will be used to pay for the listing\n   *   currencyContractAddress: NATIVE_TOKEN_ADDRESS,\n   *   // The price to pay per unit of NFTs listed.\n   *   pricePerToken: 1.5,\n   *   // when should the listing open up for offers\n   *   startTimestamp: new Date(Date.now()),\n   *   // how long the listing will be open for\n   *   endTimestamp: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),\n   *   // Whether the listing is reserved for a specific set of buyers.\n   *   isReservedListing: false\n   * }\n   *\n   * const tx = await contract.directListings.createListing(listing);\n   * const receipt = tx.receipt; // the transaction receipt\n   * const id = tx.id; // the id of the newly created listing\n   * ```\n   * @twfeature DirectListings\n   */\n  createListing = /* @__PURE__ */buildTransactionFunction(async listing => {\n    const parsedListing = await DirectListingInputParamsSchema.parseAsync(listing);\n    await handleTokenApproval(this.contractWrapper, this.getAddress(), parsedListing.assetContractAddress, parsedListing.tokenId, await this.contractWrapper.getSignerAddress());\n    const normalizedPricePerToken = await normalizePriceValue(this.contractWrapper.getProvider(), parsedListing.pricePerToken, parsedListing.currencyContractAddress);\n    const block = await this.contractWrapper.getProvider().getBlock(\"latest\");\n    const blockTime = block.timestamp;\n    if (parsedListing.startTimestamp.lt(blockTime)) {\n      parsedListing.startTimestamp = BigNumber.from(blockTime);\n    }\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"createListing\",\n      args: [{\n        assetContract: parsedListing.assetContractAddress,\n        tokenId: parsedListing.tokenId,\n        quantity: parsedListing.quantity,\n        currency: cleanCurrencyAddress(parsedListing.currencyContractAddress),\n        pricePerToken: normalizedPricePerToken,\n        startTimestamp: parsedListing.startTimestamp,\n        endTimestamp: parsedListing.endTimestamp,\n        reserved: parsedListing.isReservedListing\n      }],\n      parse: receipt => {\n        const event = this.contractWrapper.parseLogs(\"NewListing\", receipt?.logs);\n        return {\n          id: event[0].args.listingId,\n          receipt\n        };\n      }\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Create a batch of new listings\n   *\n   * @remarks Create a batch of new listings on the marketplace\n   *\n   * @example\n   * ```javascript\n   * const listings = [...];\n   * const tx = await contract.directListings.createListingsBatch(listings);\n   * ```\n   */\n  createListingsBatch = /* @__PURE__ */buildTransactionFunction(async listings => {\n    const data = (await Promise.all(listings.map(listing => this.createListing.prepare(listing)))).map(tx => tx.encode());\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"multicall\",\n      args: [data],\n      parse: receipt => {\n        const events = this.contractWrapper.parseLogs(\"NewListing\", receipt?.logs);\n        return events.map(event => {\n          return {\n            id: event.args.listingId,\n            receipt\n          };\n        });\n      }\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Update a direct listing\n   *\n   * @param listing - the new listing information\n   *\n   * @example\n   * ```javascript\n   * // Data of the listing you want to update\n   *\n   * const listingId = 0; // ID of the listing you want to update\n   *\n   * const listing = {\n   *   // address of the contract the asset you want to list is on\n   *   assetContractAddress: \"0x...\", // should be same as original listing\n   *   // token ID of the asset you want to list\n   *   tokenId: \"0\", // should be same as original listing\n   *   // how many of the asset you want to list\n   *   quantity: 1,\n   *   // address of the currency contract that will be used to pay for the listing\n   *   currencyContractAddress: NATIVE_TOKEN_ADDRESS,\n   *   // The price to pay per unit of NFTs listed.\n   *   pricePerToken: 1.5,\n   *   // when should the listing open up for offers\n   *   startTimestamp: new Date(Date.now()), // can't change this if listing already active\n   *   // how long the listing will be open for\n   *   endTimestamp: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),\n   *   // Whether the listing is reserved for a specific set of buyers.\n   *   isReservedListing: false\n   * }\n   *\n   * const tx = await contract.directListings.updateListing(listingId, listing);\n   * const receipt = tx.receipt; // the transaction receipt\n   * const id = tx.id; // the id of the newly created listing\n   * ```\n   * @twfeature DirectListings\n   */\n  updateListing = /* @__PURE__ */buildTransactionFunction(async (listingId, listing) => {\n    const parsedListing = await DirectListingInputParamsSchema.parseAsync(listing);\n    await handleTokenApproval(this.contractWrapper, this.getAddress(), parsedListing.assetContractAddress, parsedListing.tokenId, await this.contractWrapper.getSignerAddress());\n    const normalizedPricePerToken = await normalizePriceValue(this.contractWrapper.getProvider(), parsedListing.pricePerToken, parsedListing.currencyContractAddress);\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"updateListing\",\n      args: [listingId, {\n        assetContract: parsedListing.assetContractAddress,\n        tokenId: parsedListing.tokenId,\n        quantity: parsedListing.quantity,\n        currency: cleanCurrencyAddress(parsedListing.currencyContractAddress),\n        pricePerToken: normalizedPricePerToken,\n        startTimestamp: parsedListing.startTimestamp,\n        endTimestamp: parsedListing.endTimestamp,\n        reserved: parsedListing.isReservedListing\n      }],\n      parse: receipt => {\n        const event = this.contractWrapper.parseLogs(\"UpdatedListing\", receipt?.logs);\n        return {\n          id: event[0].args.listingId,\n          receipt\n        };\n      }\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Cancel Direct Listing\n   *\n   * @remarks Cancel a direct listing on the marketplace\n   *\n   * @example\n   * ```javascript\n   * // The listing ID of the direct listing you want to cancel\n   * const listingId = 0;\n   *\n   * await contract.directListings.cancelListing(listingId);\n   * ```\n   * @twfeature DirectListings\n   */\n  cancelListing = /* @__PURE__ */buildTransactionFunction(async listingId => {\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"cancelListing\",\n      args: [listingId]\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Buy direct listing for a specific wallet\n   *\n   * @remarks Buy from a specific direct listing from the marketplace.\n   *\n   * @example\n   * ```javascript\n   * // The ID of the listing you want to buy from\n   * const listingId = 0;\n   * // Quantity of the asset you want to buy\n   * const quantityDesired = 1;\n   *\n   * await contract.directListings.buyFromListing(listingId, quantityDesired, \"{{wallet_address}}\");\n   * ```\n   *\n   * @param listingId - The listing id to buy\n   * @param quantityDesired - the quantity to buy\n   * @param receiver - optional receiver of the bought listing if different from the connected wallet\n   * @twfeature DirectListings\n   */\n  buyFromListing = /* @__PURE__ */buildTransactionFunction(async (listingId, quantityDesired, receiver) => {\n    if (receiver) {\n      receiver = await resolveAddress(receiver);\n    }\n    const listing = await this.validateListing(BigNumber.from(listingId));\n    const {\n      valid,\n      error\n    } = await this.isStillValidListing(listing, quantityDesired);\n    if (!valid) {\n      throw new Error(`Listing ${listingId} is no longer valid. ${error}`);\n    }\n    const buyFor = receiver ? receiver : await this.contractWrapper.getSignerAddress();\n    const quantity = BigNumber.from(quantityDesired);\n    const value = BigNumber.from(listing.pricePerToken).mul(quantity);\n    const overrides = (await this.contractWrapper.getCallOverrides()) || {};\n    await setErc20Allowance(this.contractWrapper, value, listing.currencyContractAddress, overrides);\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"buyFromListing\",\n      args: [listingId, buyFor, quantity, listing.currencyContractAddress, value],\n      overrides\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Approve buyer for a reserved direct listing\n   *\n   * @remarks Approve a buyer to buy from a reserved listing.\n   *\n   * @example\n   * ```javascript\n   * // The listing ID of the direct listing you want to approve buyer for\n   * const listingId = \"0\";\n   *\n   * await contract.directListings.approveBuyerForReservedListing(listingId, \"{{wallet_address}}\");\n   * ```\n   *\n   * @param listingId - The listing id to buy\n   * @param buyer - Address of buyer being approved\n   * @twfeature DirectListings\n   */\n  approveBuyerForReservedListing = /* @__PURE__ */buildTransactionFunction(async (listingId, buyer) => {\n    const isApproved = await this.isBuyerApprovedForListing(listingId, buyer);\n    if (!isApproved) {\n      const tx = Transaction.fromContractWrapper({\n        contractWrapper: this.contractWrapper,\n        method: \"approveBuyerForListing\",\n        args: [listingId, buyer, true]\n      });\n      tx.setGasLimitMultiple(1.2);\n      return tx;\n    } else {\n      throw new Error(`Buyer ${buyer} already approved for listing ${listingId}.`);\n    }\n  });\n\n  /**\n   * Revoke approval of a buyer for a reserved direct listing\n   *\n   * @example\n   * ```javascript\n   * // The listing ID of the direct listing you want to approve buyer for\n   * const listingId = \"0\";\n   *\n   * await contract.directListings.revokeBuyerApprovalForReservedListing(listingId, \"{{wallet_address}}\");\n   * ```\n   *\n   * @param listingId - The listing id to buy\n   * @param buyer - Address of buyer being approved\n   */\n  revokeBuyerApprovalForReservedListing = /* @__PURE__ */buildTransactionFunction(async (listingId, buyer) => {\n    const isApproved = await this.isBuyerApprovedForListing(listingId, buyer);\n    if (isApproved) {\n      const tx = Transaction.fromContractWrapper({\n        contractWrapper: this.contractWrapper,\n        method: \"approveBuyerForListing\",\n        args: [listingId, buyer, false]\n      });\n      tx.setGasLimitMultiple(1.2);\n      return tx;\n    } else {\n      throw new Error(`Buyer ${buyer} not approved for listing ${listingId}.`);\n    }\n  });\n\n  /**\n   * Approve a currency for a direct listing\n   *\n   *\n   * @example\n   * ```javascript\n   * // The listing ID of the direct listing you want to approve currency for\n   * const listingId = \"0\";\n   *\n   * await contract.directListings.approveCurrencyForListing(listingId, currencyContractAddress, pricePerTokenInCurrency);\n   * ```\n   *\n   * @param listingId - The listing id to buy\n   * @param currencyContractAddress - Address of currency being approved\n   * @param pricePerTokenInCurrency - Price per token in the currency\n   * @twfeature DirectListings\n   */\n  approveCurrencyForListing = /* @__PURE__ */buildTransactionFunction(async (listingId, currencyContractAddress, pricePerTokenInCurrency) => {\n    const listing = await this.validateListing(BigNumber.from(listingId));\n    const resolvedCurrencyAddress = await resolveAddress(currencyContractAddress);\n    if (resolvedCurrencyAddress === listing.currencyContractAddress) {\n      invariant(pricePerTokenInCurrency === listing.pricePerToken, \"Approving listing currency with a different price.\");\n    }\n    const currencyPrice = await this.contractWrapper.read(\"currencyPriceForListing\", [listingId, resolvedCurrencyAddress]);\n    invariant(pricePerTokenInCurrency === currencyPrice, \"Currency already approved with this price.\");\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"approveCurrencyForListing\",\n      args: [listingId, resolvedCurrencyAddress, pricePerTokenInCurrency]\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Revoke approval of a currency for a direct listing\n   *\n   *\n   * @example\n   * ```javascript\n   * // The listing ID of the direct listing you want to revoke currency for\n   * const listingId = \"0\";\n   *\n   * await contract.directListings.revokeCurrencyApprovalForListing(listingId, currencyContractAddress);\n   * ```\n   *\n   * @param listingId - The listing id to buy\n   * @param currencyContractAddress - Address of currency\n   * @twfeature DirectListings\n   */\n  revokeCurrencyApprovalForListing = /* @__PURE__ */buildTransactionFunction(async (listingId, currencyContractAddress) => {\n    const listing = await this.validateListing(BigNumber.from(listingId));\n    const resolvedCurrencyAddress = await resolveAddress(currencyContractAddress);\n    if (resolvedCurrencyAddress === listing.currencyContractAddress) {\n      throw new Error(`Can't revoke approval for main listing currency.`);\n    }\n    const currencyPrice = await this.contractWrapper.read(\"currencyPriceForListing\", [listingId, resolvedCurrencyAddress]);\n    invariant(!currencyPrice.isZero(), \"Currency not approved.\");\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"approveCurrencyForListing\",\n      args: [listingId, resolvedCurrencyAddress, BigNumber.from(0)]\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /** ******************************\n   * PRIVATE FUNCTIONS\n   *******************************/\n\n  /**\n   * Throws error if listing could not be found\n   *\n   * @param listingId - Listing to check for\n   */\n  async validateListing(listingId) {\n    try {\n      return await this.getListing(listingId);\n    } catch (err) {\n      console.error(`Error getting the listing with id ${listingId}`);\n      throw err;\n    }\n  }\n\n  /**\n   * Helper method maps the auction listing to the direct listing interface.\n   *\n   * @internal\n   * @param listing - The listing to map, as returned from the contract.\n   * @returns  The mapped interface.\n   */\n  async mapListing(listing) {\n    let status = Status.UNSET;\n    const block = await this.contractWrapper.getProvider().getBlock(\"latest\");\n    const blockTime = block.timestamp;\n    switch (listing.status) {\n      case 1:\n        status = BigNumber.from(listing.startTimestamp).gt(blockTime) ? Status.Created : BigNumber.from(listing.endTimestamp).lt(blockTime) ? Status.Expired : Status.Active;\n        break;\n      case 2:\n        status = Status.Completed;\n        break;\n      case 3:\n        status = Status.Cancelled;\n        break;\n    }\n    return {\n      assetContractAddress: listing.assetContract,\n      currencyContractAddress: listing.currency,\n      pricePerToken: listing.pricePerToken.toString(),\n      currencyValuePerToken: await fetchCurrencyValue(this.contractWrapper.getProvider(), listing.currency, listing.pricePerToken),\n      id: listing.listingId.toString(),\n      tokenId: listing.tokenId.toString(),\n      quantity: listing.quantity.toString(),\n      startTimeInSeconds: BigNumber.from(listing.startTimestamp).toNumber(),\n      asset: await fetchTokenMetadataForContract(listing.assetContract, this.contractWrapper.getProvider(), listing.tokenId, this.storage),\n      endTimeInSeconds: BigNumber.from(listing.endTimestamp).toNumber(),\n      creatorAddress: listing.listingCreator,\n      isReservedListing: listing.reserved,\n      status: status\n    };\n  }\n\n  /**\n   * Use this method to check if a direct listing is still valid.\n   *\n   * Ways a direct listing can become invalid:\n   * 1. The asset holder transferred the asset to another wallet\n   * 2. The asset holder burned the asset\n   * 3. The asset holder removed the approval on the marketplace\n   *\n   * @internal\n   * @param listing - The listing to check.\n   * @returns  True if the listing is valid, false otherwise.\n   */\n  async isStillValidListing(listing, quantity) {\n    const approved = await isTokenApprovedForTransfer(this.contractWrapper.getProvider(), this.getAddress(), listing.assetContractAddress, listing.tokenId, listing.creatorAddress);\n    if (!approved) {\n      return {\n        valid: false,\n        error: `Token '${listing.tokenId}' from contract '${listing.assetContractAddress}' is not approved for transfer`\n      };\n    }\n    const provider = this.contractWrapper.getProvider();\n    const ERC165Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC165.json')).default;\n    const erc165 = new Contract(listing.assetContractAddress, ERC165Abi, provider);\n    const isERC721 = await erc165.supportsInterface(InterfaceId_IERC721);\n    const isERC1155 = await erc165.supportsInterface(InterfaceId_IERC1155);\n    if (isERC721) {\n      const ERC721Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC721.json')).default;\n      const asset = new Contract(listing.assetContractAddress, ERC721Abi, provider);\n\n      // Handle reverts in case of non-existent tokens\n      let owner;\n      try {\n        owner = await asset.ownerOf(listing.tokenId);\n      } catch (e) {}\n      const valid = owner?.toLowerCase() === listing.creatorAddress.toLowerCase();\n      return {\n        valid,\n        error: valid ? undefined : `Seller is not the owner of Token '${listing.tokenId}' from contract '${listing.assetContractAddress} anymore'`\n      };\n    } else if (isERC1155) {\n      const ERC1155Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC1155.json')).default;\n      const asset = new Contract(listing.assetContractAddress, ERC1155Abi, provider);\n      const balance = await asset.balanceOf(listing.creatorAddress, listing.tokenId);\n      const valid = balance.gte(quantity || listing.quantity);\n      return {\n        valid,\n        error: valid ? undefined : `Seller does not have enough balance of Token '${listing.tokenId}' from contract '${listing.assetContractAddress} to fulfill the listing`\n      };\n    } else {\n      return {\n        valid: false,\n        error: \"Contract does not implement ERC 1155 or ERC 721.\"\n      };\n    }\n  }\n  async applyFilter(listings, filter) {\n    let rawListings = [...listings];\n    if (filter) {\n      if (filter.seller) {\n        const resolvedSeller = await resolveAddress(filter.seller);\n        rawListings = rawListings.filter(seller => seller.listingCreator.toString().toLowerCase() === resolvedSeller?.toString().toLowerCase());\n      }\n      if (filter.tokenContract) {\n        const resolvedToken = await resolveAddress(filter.tokenContract);\n        rawListings = rawListings.filter(tokenContract => tokenContract.assetContract.toString().toLowerCase() === resolvedToken?.toString().toLowerCase());\n      }\n      if (filter.tokenId !== undefined) {\n        rawListings = rawListings.filter(tokenContract => tokenContract.tokenId.toString() === filter?.tokenId?.toString());\n      }\n    }\n    return filter?.count && filter.count < rawListings.length ? rawListings.slice(0, filter.count) : rawListings;\n  }\n}\n\n/**\n * @internal\n */\nconst EnglishAuctionInputParamsSchema = /* @__PURE__ */(() => z.object({\n  /**\n   * The address of the asset being auctioned.\n   */\n  assetContractAddress: AddressOrEnsSchema,\n  /**\n   * The ID of the token to auction.\n   */\n  tokenId: BigNumberishSchema,\n  /**\n   * The quantity of tokens to include in the listing.\n   *\n   * For ERC721s, this value should always be 1 (and will be forced internally regardless of what is passed here).\n   */\n  quantity: BigNumberishSchema.default(1),\n  /**\n   * The address of the currency to accept for the listing.\n   */\n  currencyContractAddress: AddressOrEnsSchema.default(NATIVE_TOKEN_ADDRESS),\n  /**\n   * The minimum price that a bid must be in order to be accepted.\n   */\n  minimumBidAmount: AmountSchema,\n  /**\n   * The buyout price of the auction.\n   */\n  buyoutBidAmount: AmountSchema,\n  /**\n   * This is a buffer e.g. x seconds.\n   *\n   * If a new winning bid is made less than x seconds before expirationTimestamp, the\n   * expirationTimestamp is increased by x seconds.\n   */\n  timeBufferInSeconds: BigNumberishSchema.default(900),\n  // 15 minutes by default\n\n  /**\n   * This is a buffer in basis points e.g. x%.\n   *\n   * To be considered as a new winning bid, a bid must be at least x% greater than\n   * the current winning bid.\n   */\n  bidBufferBps: BigNumberishSchema.default(500),\n  // 5% by default\n\n  /**\n   * The start time of the auction.\n   */\n  startTimestamp: RawDateSchema.default(new Date()),\n  /**\n   * The end time of the auction.\n   */\n  endTimestamp: EndDateSchema\n}))();\n\n/**\n * @public\n */\n\n/**\n * Handles auctions\n * @public\n */\nclass MarketplaceV3EnglishAuctions {\n  featureName = FEATURE_ENGLISH_AUCTIONS.name;\n\n  // utilities\n\n  constructor(contractWrapper, storage) {\n    this.contractWrapper = contractWrapper;\n    this.storage = storage;\n    this.events = new ContractEvents(this.contractWrapper);\n    this.encoder = new ContractEncoder(this.contractWrapper);\n    this.interceptor = new ContractInterceptor(this.contractWrapper);\n    this.estimator = new GasCostEstimator(this.contractWrapper);\n  }\n  getAddress() {\n    return this.contractWrapper.address;\n  }\n\n  /** ******************************\n   * READ FUNCTIONS\n   *******************************/\n\n  /**\n   * Get the total number of english auctions\n   *\n   * @returns Returns the total number of auctions created.\n   * @public\n   *\n   * @example\n   * ```javascript\n   * const totalAuctions = await contract.englishAuctions.getTotalCount();\n   * ```\n   * @twfeature EnglishAuctions\n   */\n  async getTotalCount() {\n    return await this.contractWrapper.read(\"totalAuctions\", []);\n  }\n\n  /**\n   * Get all english auctions\n   *\n   * @example\n   * ```javascript\n   * const auctions = await contract.englishAuctions.getAll();\n   * ```\n   *\n   * @param filter - optional filter parameters\n   * @returns The Auction object array\n   * @twfeature EnglishAuctions\n   */\n  async getAll(filter) {\n    const totalAuctions = await this.getTotalCount();\n    const start = BigNumber.from(filter?.start || 0).toNumber();\n    const end = totalAuctions.toNumber();\n    if (end === 0) {\n      throw new Error(`No auctions exist on the contract.`);\n    }\n    let rawAuctions = [];\n    const batches = await getAllInBatches(start, end, (startId, endId) => this.contractWrapper.read(\"getAllAuctions\", [startId, endId]));\n    rawAuctions = batches.flat();\n    const filteredAuctions = await this.applyFilter(rawAuctions, filter);\n    return await Promise.all(filteredAuctions.map(auction => this.mapAuction(auction)));\n  }\n\n  /**\n   * Get all valid english auctions\n   *\n   * @example\n   * ```javascript\n   * const auctions = await contract.englishAuctions.getAllValid();\n   * ```\n   *\n   * @param filter - optional filter parameters\n   * @returns The Auction object array\n   * @twfeature EnglishAuctions\n   */\n  async getAllValid(filter) {\n    const totalAuctions = await this.getTotalCount();\n    const start = BigNumber.from(filter?.start || 0).toNumber();\n    const end = totalAuctions.toNumber();\n    if (end === 0) {\n      throw new Error(`No auctions exist on the contract.`);\n    }\n    let rawAuctions = [];\n    const batches = await getAllInBatches(start, end, (startId, endId) => this.contractWrapper.read(\"getAllValidAuctions\", [startId, endId]));\n    rawAuctions = batches.flat();\n    const filteredAuctions = await this.applyFilter(rawAuctions, filter);\n    return await Promise.all(filteredAuctions.map(auction => this.mapAuction(auction)));\n  }\n\n  /**\n   * Get a single english auction\n   *\n   * @example\n   * ```javascript\n   * const auctionId = 0;\n   * const auction = await contract.englishAuctions.getAuction(auctionId);\n   * ```\n   *\n   * @param auctionId - the auction Id\n   * @returns The Auction object\n   * @twfeature EnglishAuctions\n   */\n  async getAuction(auctionId) {\n    const auction = await this.contractWrapper.read(\"getAuction\", [auctionId]);\n    return await this.mapAuction(auction);\n  }\n\n  /**\n   * Get winning bid of an english auction\n   *\n   * @remarks Get the current highest bid of an active auction.\n   *\n   * @example\n   * ```javascript\n   * // The ID of the auction\n   * const auctionId = 0;\n   * const winningBid = await contract.englishAuctions.getWinningBid(auctionId);\n   * ```\n   * @param auctionId - the auction Id\n   * @twfeature EnglishAuctions\n   */\n  async getWinningBid(auctionId) {\n    await this.validateAuction(BigNumber.from(auctionId));\n    const bid = await this.contractWrapper.read(\"getWinningBid\", [auctionId]);\n    if (bid._bidder === constants.AddressZero) {\n      return undefined;\n    }\n    return await this.mapBid(auctionId.toString(), bid._bidder, bid._currency, bid._bidAmount.toString());\n  }\n\n  /**\n   * Check if a bid is or will be a winning bid\n   *\n   * @example\n   * ```javascript\n   * const auctionId = 0;\n   * const bidAmount = 100;\n   * const isWinningBid = await contract.englishAuctions.isWinningBid(auctionId, bidAmount);\n   * ```\n   *\n   * @param auctionId - Auction Id\n   * @param bidAmount - Amount to bid\n   * @returns true if the bid is or will be a winning bid\n   * @twfeature EnglishAuctions\n   */\n  async isWinningBid(auctionId, bidAmount) {\n    return await this.contractWrapper.read(\"isNewWinningBid\", [auctionId, bidAmount]);\n  }\n\n  /**\n   * Get the winner for a specific english auction\n   *\n   * @remarks Get the winner of the auction after an auction ends.\n   *\n   * @example\n   * ```javascript\n   * // The auction ID of a closed english auction\n   * const auctionId = 0;\n   * const auctionWinner = await contract.englishAuctions.getWinner(auctionId);\n   * ```\n   * @param auctionId - the auction Id\n   * @returns The address of the auction winner\n   * @twfeature EnglishAuctions\n   */\n  async getWinner(auctionId) {\n    const auction = await this.validateAuction(BigNumber.from(auctionId));\n    const bid = await this.contractWrapper.read(\"getWinningBid\", [auctionId]);\n    const now = BigNumber.from(Math.floor(Date.now() / 1000));\n    const endTime = BigNumber.from(auction.endTimeInSeconds);\n\n    // if we have a winner in the map and the current time is past the endtime of the auction return the address of the winner\n    if (now.gt(endTime) && bid._bidder !== constants.AddressZero) {\n      return bid._bidder;\n    }\n    // otherwise fall back to query filter things\n\n    // TODO this should be via indexer or direct contract call\n    const contractEvent = new ContractEvents(this.contractWrapper);\n    const closedAuctions = await contractEvent.getEvents(\"AuctionClosed\");\n    const closed = closedAuctions.find(a => a.data.auctionId.eq(BigNumber.from(auctionId)));\n    if (!closed) {\n      throw new Error(`Could not find auction with ID ${auctionId} in closed auctions`);\n    }\n    return closed.data.winningBidder;\n  }\n\n  /** ******************************\n   * WRITE FUNCTIONS\n   *******************************/\n\n  /**\n   * Create an english auction\n   *\n   * @remarks Create a new auction where people can bid on an asset.\n   *\n   * @example\n   * ```javascript\n   * // Data of the auction you want to create\n   * const auction = {\n   *   // address of the contract of the asset you want to auction\n   *   assetContractAddress: \"0x...\",\n   *   // token ID of the asset you want to auction\n   *   tokenId: \"0\",\n   *   // how many of the asset you want to auction\n   *   quantity: 1,\n   *   // address of the currency contract that will be used to pay for the auctioned tokens\n   *   currencyContractAddress: NATIVE_TOKEN_ADDRESS,\n   *   // the minimum bid that will be accepted for the token\n   *   minimumBidAmount: \"1.5\",\n   *   // how much people would have to bid to instantly buy the asset\n   *   buyoutBidAmount: \"10\",\n   *   // If a bid is made less than these many seconds before expiration, the expiration time is increased by this.\n   *   timeBufferInSeconds: \"900\", // 15 minutes by default\n   *   // A bid must be at least this much bps greater than the current winning bid\n   *   bidBufferBps: \"500\", // 5% by default\n   *   // when should the auction open up for bidding\n   *   startTimestamp: new Date(Date.now()),\n   *   // end time of auction\n   *   endTimestamp: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),\n   * }\n   *\n   * const tx = await contract.englishAuctions.createAuction(auction);\n   * const receipt = tx.receipt; // the transaction receipt\n   * const id = tx.id; // the id of the newly created auction\n   * ```\n   * @param auction - the auction data\n   * @returns The transaction hash and the auction id\n   * @twfeature EnglishAuctions\n   */\n  createAuction = /* @__PURE__ */buildTransactionFunction(async auction => {\n    const parsedAuction = EnglishAuctionInputParamsSchema.parse(auction);\n    await handleTokenApproval(this.contractWrapper, this.getAddress(), parsedAuction.assetContractAddress, parsedAuction.tokenId, await this.contractWrapper.getSignerAddress());\n    const normalizedBuyoutAmount = await normalizePriceValue(this.contractWrapper.getProvider(), parsedAuction.buyoutBidAmount, parsedAuction.currencyContractAddress);\n    const normalizedMinBidAmount = await normalizePriceValue(this.contractWrapper.getProvider(), parsedAuction.minimumBidAmount, parsedAuction.currencyContractAddress);\n    const block = await this.contractWrapper.getProvider().getBlock(\"latest\");\n    const blockTime = block.timestamp;\n    if (parsedAuction.startTimestamp.lt(blockTime)) {\n      parsedAuction.startTimestamp = BigNumber.from(blockTime);\n    }\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"createAuction\",\n      args: [{\n        assetContract: parsedAuction.assetContractAddress,\n        tokenId: parsedAuction.tokenId,\n        quantity: parsedAuction.quantity,\n        currency: cleanCurrencyAddress(parsedAuction.currencyContractAddress),\n        minimumBidAmount: normalizedMinBidAmount,\n        buyoutBidAmount: normalizedBuyoutAmount,\n        timeBufferInSeconds: parsedAuction.timeBufferInSeconds,\n        bidBufferBps: parsedAuction.bidBufferBps,\n        startTimestamp: parsedAuction.startTimestamp,\n        endTimestamp: parsedAuction.endTimestamp\n      }],\n      parse: receipt => {\n        const event = this.contractWrapper.parseLogs(\"NewAuction\", receipt.logs)[0];\n        return {\n          id: event.args.auctionId,\n          receipt\n        };\n      }\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Create a batch of new auctions\n   *\n   * @remarks Create a batch of new auctions on the marketplace\n   *\n   * @example\n   * ```javascript\n   * const auctions = [...];\n   * const tx = await contract.englishAuctions.createAuctionsBatch(auctions);\n   * ```\n   */\n  createAuctionsBatch = /* @__PURE__ */buildTransactionFunction(async listings => {\n    const data = (await Promise.all(listings.map(listing => this.createAuction.prepare(listing)))).map(tx => tx.encode());\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"multicall\",\n      args: [data],\n      parse: receipt => {\n        const events = this.contractWrapper.parseLogs(\"NewAuction\", receipt?.logs);\n        return events.map(event => {\n          return {\n            id: event.args.auctionId,\n            receipt\n          };\n        });\n      }\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Buyout an english auction\n   *\n   * @remarks Buy a specific auction from the marketplace.\n   *\n   * @example\n   * ```javascript\n   * // The auction ID you want to buy\n   * const auctionId = 0;\n   *\n   * await contract.englishAuctions.buyoutAuction(auctionId);\n   * ```\n   * @param auctionId - the auction id\n   * @returns The transaction result\n   * @twfeature EnglishAuctions\n   */\n  buyoutAuction = /* @__PURE__ */buildTransactionFunction(async auctionId => {\n    const auction = await this.validateAuction(BigNumber.from(auctionId));\n    const currencyMetadata = await fetchCurrencyMetadata(this.contractWrapper.getProvider(), auction.currencyContractAddress);\n    return this.makeBid.prepare(auctionId, utils.formatUnits(auction.buyoutBidAmount, currencyMetadata.decimals));\n  });\n\n  /**\n   * Bid on an english auction\n   *\n   * @remarks Make a bid on an auction\n   *\n   * @example\n   * ```javascript\n   * // The auction ID of the asset you want to bid on\n   * const auctionId = 0;\n   * // The total amount you are willing to bid for auctioned tokens\n   * const bidAmount = 1;\n   *\n   * await contract.englishAuctions.makeBid(auctionId, bidAmount);\n   * ```\n   * @param auctionId - the auction id\n   * @param bidAmount - the amount you are willing to bid\n   * @returns The transaction result\n   * @twfeature EnglishAuctions\n   */\n  makeBid = /* @__PURE__ */buildTransactionFunction(async (auctionId, bidAmount) => {\n    const auction = await this.validateAuction(BigNumber.from(auctionId));\n    const normalizedBidAmount = await normalizePriceValue(this.contractWrapper.getProvider(), bidAmount, auction.currencyContractAddress);\n    if (normalizedBidAmount.eq(BigNumber.from(0))) {\n      throw new Error(\"Cannot make a bid with 0 value\");\n    }\n    if (BigNumber.from(auction.buyoutBidAmount).gt(0) && normalizedBidAmount.gt(auction.buyoutBidAmount)) {\n      throw new Error(\"Bid amount must be less than or equal to buyoutBidAmount\");\n    }\n    const winningBid = await this.getWinningBid(auctionId);\n    if (winningBid) {\n      const isWinnner = await this.isWinningBid(auctionId, normalizedBidAmount);\n      invariant(isWinnner, \"Bid price is too low based on the current winning bid and the bid buffer\");\n    } else {\n      const tokenPrice = normalizedBidAmount;\n      const minimumBidAmount = BigNumber.from(auction.minimumBidAmount);\n      invariant(tokenPrice.gte(minimumBidAmount), \"Bid price is too low based on minimum bid amount\");\n    }\n    const overrides = (await this.contractWrapper.getCallOverrides()) || {};\n    await setErc20Allowance(this.contractWrapper, normalizedBidAmount, auction.currencyContractAddress, overrides);\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"bidInAuction\",\n      overrides,\n      args: [auctionId, normalizedBidAmount]\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Cancel an english auction\n   *\n   * @remarks Cancel an auction on the marketplace\n   *\n   * @example\n   * ```javascript\n   * // The ID of the auction you want to cancel\n   * const auctionId = \"0\";\n   *\n   * await contract.englishAuctions.cancelAuction(auctionId);\n   * ```\n   * @param auctionId - the auction id\n   * @returns The transaction result\n   * @twfeature EnglishAuctions\n   */\n  cancelAuction = /* @__PURE__ */buildTransactionFunction(async auctionId => {\n    const winningBid = await this.getWinningBid(auctionId);\n    if (winningBid) {\n      throw new Error(`Bids already made.`);\n    }\n    const tx = Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"cancelAuction\",\n      args: [auctionId]\n    });\n    tx.setGasLimitMultiple(1.2);\n    return tx;\n  });\n\n  /**\n   * Close the english auction for the bidder\n   *\n   * @remarks Closes the Auction and executes the sale for the buyer.\n   *\n   * @example\n   * ```javascript\n   * // The ID of the auction you want to close\n   * const auction = \"0\";\n   * await contract.englishAuctions.closeAuctionForBidder(auctionId);\n   * ```\n   *\n   * @param auctionId - the auction id to close\n   * @param closeFor - optionally pass the winning bid offeror address to close the auction on their behalf\n   * @returns The transaction result\n   * @twfeature EnglishAuctions\n   */\n  closeAuctionForBidder = /* @__PURE__ */buildTransactionFunction(async (auctionId, closeFor) => {\n    if (!closeFor) {\n      closeFor = await this.contractWrapper.getSignerAddress();\n    }\n    const auction = await this.validateAuction(BigNumber.from(auctionId));\n    try {\n      const tx = Transaction.fromContractWrapper({\n        contractWrapper: this.contractWrapper,\n        method: \"collectAuctionTokens\",\n        args: [BigNumber.from(auctionId)]\n      });\n      tx.setGasLimitMultiple(1.2);\n      return tx;\n    } catch (err) {\n      if (err.message.includes(\"Marketplace: auction still active.\")) {\n        throw new AuctionHasNotEndedError(auctionId.toString(), auction.endTimeInSeconds.toString());\n      } else {\n        throw err;\n      }\n    }\n  });\n\n  /**\n   * Close the english auction for the seller\n   *\n   * @remarks Closes the Auction and executes the sale for the seller.\n   *\n   * @example\n   * ```javascript\n   * // The ID of the auction you want to close\n   * const auctionId = \"0\";\n   * await contract.englishAuctions.closeAuctionForSeller(auctionId);\n   * ```\n   *\n   * @param auctionId - the auction id to close\n   * @returns The transaction result\n   * @twfeature EnglishAuctions\n   */\n  closeAuctionForSeller = /* @__PURE__ */buildTransactionFunction(async auctionId => {\n    const auction = await this.validateAuction(BigNumber.from(auctionId));\n    try {\n      const tx = Transaction.fromContractWrapper({\n        contractWrapper: this.contractWrapper,\n        method: \"collectAuctionPayout\",\n        args: [BigNumber.from(auctionId)]\n      });\n      tx.setGasLimitMultiple(1.2);\n      return tx;\n    } catch (err) {\n      if (err.message.includes(\"Marketplace: auction still active.\")) {\n        throw new AuctionHasNotEndedError(auctionId.toString(), auction.endTimeInSeconds.toString());\n      } else {\n        throw err;\n      }\n    }\n  });\n\n  /**\n   * Close the english auction for both the seller and the bidder\n   *\n   * @remarks Closes the Auction and executes the sale for both parties.\n   *\n   * @example\n   * ```javascript\n   * // The ID of the auction you want to close\n   * const auction = \"0\";\n   * await contract.englishAuctions.executeSale(auctionId);\n   * ```\n   *\n   * @param auctionId - the auction to close\n   * @returns The transaction result\n   * @twfeature EnglishAuctions\n   */\n  executeSale = /* @__PURE__ */buildTransactionFunction(async auctionId => {\n    const auction = await this.validateAuction(BigNumber.from(auctionId));\n    try {\n      const winningBid = await this.getWinningBid(auctionId);\n      invariant(winningBid, \"No winning bid found\");\n      const closeForSeller = this.encoder.encode(\"collectAuctionPayout\", [auctionId]);\n      const closeForBuyer = this.encoder.encode(\"collectAuctionTokens\", [auctionId]);\n      const tx = Transaction.fromContractWrapper({\n        contractWrapper: this.contractWrapper,\n        method: \"multicall\",\n        args: [[closeForSeller, closeForBuyer]]\n      });\n      tx.setGasLimitMultiple(1.2);\n      return tx;\n    } catch (err) {\n      if (err.message.includes(\"Marketplace: auction still active.\")) {\n        throw new AuctionHasNotEndedError(auctionId.toString(), auction.endTimeInSeconds.toString());\n      } else {\n        throw err;\n      }\n    }\n  });\n\n  /**\n   * Get the buffer for an english auction\n   *\n   * @example\n   * ```javascript\n   * // The ID of the auction you want to get the buffer for\n   * const auctionId = \"0\";\n   * const buffer = await contract.englishAuctions.getBidBufferBps(auctionId);\n   * ```\n   *\n   * @param auctionId - id of the auction\n   * @returns The buffer in basis points\n   * @twfeature EnglishAuctions\n   */\n  async getBidBufferBps(auctionId) {\n    return (await this.getAuction(auctionId)).bidBufferBps;\n  }\n\n  /**\n   * Get the minimum next bid for an english auction\n   *\n   * @example\n   * ```javascript\n   * // The ID of the auction you want to get the minimum next bid for\n   * const auctionId = \"0\";\n   * const minimumNextBid = await contract.englishAuctions.getMinimumNextBid(auctionId);\n   * ```\n   *\n   * @returns The minimum bid a user can place to outbid the previous highest bid\n   * @param auctionId - id of the auction\n   * @twfeature EnglishAuctions\n   */\n  async getMinimumNextBid(auctionId) {\n    // we can fetch all of these at the same time using promise.all\n    const [currentBidBufferBps, winningBid, auction] = await Promise.all([this.getBidBufferBps(auctionId), this.getWinningBid(auctionId), this.validateAuction(BigNumber.from(auctionId))]);\n    const currentBidOrReservePrice = winningBid ?\n    // if there is a winning bid use the value of it\n    BigNumber.from(winningBid.bidAmount) :\n    // if there is no winning bid use the reserve price\n    BigNumber.from(auction.minimumBidAmount);\n    const minimumNextBid = currentBidOrReservePrice.add(\n    // the addition of the current bid and the buffer\n    // (have to divide by 10000 to get the fraction of the buffer (since it's in basis points))\n    currentBidOrReservePrice.mul(currentBidBufferBps).div(10000));\n\n    // it's more useful to return a currency value here\n    return fetchCurrencyValue(this.contractWrapper.getProvider(), auction.currencyContractAddress, minimumNextBid);\n  }\n\n  /** ******************************\n   * PRIVATE FUNCTIONS\n   *******************************/\n\n  /**\n   * Throws error if auction could not be found\n   *\n   * @param auctionId - Auction to check for\n   */\n  async validateAuction(auctionId) {\n    try {\n      return await this.getAuction(auctionId);\n    } catch (err) {\n      console.error(`Error getting the auction with id ${auctionId}`);\n      throw err;\n    }\n  }\n\n  /**\n   * Helper method maps the auction to the auction interface.\n   *\n   * @internal\n   * @param auction - The auction to map, as returned from the contract.\n   * @returns  The mapped interface.\n   */\n  async mapAuction(auction) {\n    let status = Status.UNSET;\n    const block = await this.contractWrapper.getProvider().getBlock(\"latest\");\n    const blockTime = block.timestamp;\n    switch (auction.status) {\n      case 1:\n        status = BigNumber.from(auction.startTimestamp).gt(blockTime) ? Status.Created : BigNumber.from(auction.endTimestamp).lt(blockTime) ? Status.Expired : Status.Active;\n        break;\n      case 2:\n        status = Status.Completed;\n        break;\n      case 3:\n        status = Status.Cancelled;\n        break;\n    }\n    return {\n      id: auction.auctionId.toString(),\n      creatorAddress: auction.auctionCreator,\n      assetContractAddress: auction.assetContract,\n      tokenId: auction.tokenId.toString(),\n      quantity: auction.quantity.toString(),\n      currencyContractAddress: auction.currency,\n      minimumBidAmount: auction.minimumBidAmount.toString(),\n      minimumBidCurrencyValue: await fetchCurrencyValue(this.contractWrapper.getProvider(), auction.currency, auction.minimumBidAmount),\n      buyoutBidAmount: auction.buyoutBidAmount.toString(),\n      buyoutCurrencyValue: await fetchCurrencyValue(this.contractWrapper.getProvider(), auction.currency, auction.buyoutBidAmount),\n      timeBufferInSeconds: BigNumber.from(auction.timeBufferInSeconds).toNumber(),\n      bidBufferBps: BigNumber.from(auction.bidBufferBps).toNumber(),\n      startTimeInSeconds: BigNumber.from(auction.startTimestamp).toNumber(),\n      endTimeInSeconds: BigNumber.from(auction.endTimestamp).toNumber(),\n      asset: await fetchTokenMetadataForContract(auction.assetContract, this.contractWrapper.getProvider(), auction.tokenId, this.storage),\n      status: status\n    };\n  }\n\n  /**\n   * Maps an auction-bid to the strict interface\n   *\n   * @internal\n   * @param bid - The bid to map, as returned from the contract.\n   * @returns  A `Bid` object\n   */\n  async mapBid(auctionId, bidderAddress, currencyContractAddress, bidAmount) {\n    const resolvedBidderAddress = await resolveAddress(bidderAddress);\n    const resolvedCurrencyAddress = await resolveAddress(currencyContractAddress);\n    return {\n      auctionId,\n      bidderAddress: resolvedBidderAddress,\n      currencyContractAddress: resolvedCurrencyAddress,\n      bidAmount,\n      bidAmountCurrencyValue: await fetchCurrencyValue(this.contractWrapper.getProvider(), resolvedCurrencyAddress, bidAmount)\n    };\n  }\n  async applyFilter(auctions, filter) {\n    let rawAuctions = [...auctions];\n    if (filter) {\n      if (filter.seller) {\n        const resolvedSeller = await resolveAddress(filter.seller);\n        rawAuctions = rawAuctions.filter(seller => seller.auctionCreator.toString().toLowerCase() === resolvedSeller?.toString().toLowerCase());\n      }\n      if (filter.tokenContract) {\n        const resolvedToken = await resolveAddress(filter.tokenContract);\n        rawAuctions = rawAuctions.filter(tokenContract => tokenContract.assetContract.toString().toLowerCase() === resolvedToken?.toString().toLowerCase());\n      }\n      if (filter.tokenId !== undefined) {\n        rawAuctions = rawAuctions.filter(tokenContract => tokenContract.tokenId.toString() === filter?.tokenId?.toString());\n      }\n    }\n    return filter?.count && filter.count < rawAuctions.length ? rawAuctions.slice(0, filter.count) : rawAuctions;\n  }\n}\n\n/**\n * @internal\n */\nconst OfferInputParamsSchema = /* @__PURE__ */(() => z.object({\n  /**\n   * The address of the asset being sought.\n   */\n  assetContractAddress: AddressOrEnsSchema,\n  /**\n   * The ID of the token.\n   */\n  tokenId: BigNumberishSchema,\n  /**\n   * The quantity of tokens to buy.\n   *\n   * For ERC721s, this value should always be 1 (and will be forced internally regardless of what is passed here).\n   */\n  quantity: BigNumberishSchema.default(1),\n  /**\n   * The address of the currency offered for the NFTs.\n   */\n  currencyContractAddress: AddressOrEnsSchema.default(NATIVE_TOKEN_ADDRESS),\n  /**\n   * The total offer amount for the NFTs.\n   */\n  totalPrice: AmountSchema,\n  /**\n   * The end time of the offer.\n   */\n  endTimestamp: EndDateSchema\n}))();\n\n/**\n * @public\n */\n\n/**\n * Handles marketplace offers\n * @public\n */\nclass MarketplaceV3Offers {\n  featureName = FEATURE_OFFERS.name;\n\n  // utilities\n\n  constructor(contractWrapper, storage) {\n    this.contractWrapper = contractWrapper;\n    this.storage = storage;\n    this.events = new ContractEvents(this.contractWrapper);\n    this.encoder = new ContractEncoder(this.contractWrapper);\n    this.interceptor = new ContractInterceptor(this.contractWrapper);\n    this.estimator = new GasCostEstimator(this.contractWrapper);\n  }\n  getAddress() {\n    return this.contractWrapper.address;\n  }\n\n  /** ******************************\n   * READ FUNCTIONS\n   *******************************/\n\n  /**\n   * Get the total number of offers\n   *\n   * @returns Returns the total number of offers created.\n   * @public\n   *\n   * @example\n   * ```javascript\n   * const totalOffers = await contract.offers.getTotalCount();\n   * ```\n   * @twfeature Offers\n   */\n  async getTotalCount() {\n    return await this.contractWrapper.read(\"totalOffers\", []);\n  }\n\n  /**\n   * Get all offers\n   *\n   * @example\n   * ```javascript\n   * const offers = await contract.offers.getAll();\n   * ```\n   *\n   * @param filter - optional filter parameters\n   * @returns The Offer object array\n   * @twfeature Offers\n   */\n  async getAll(filter) {\n    const totalOffers = await this.getTotalCount();\n    const start = BigNumber.from(filter?.start || 0).toNumber();\n    const end = totalOffers.toNumber();\n    if (end === 0) {\n      throw new Error(`No offers exist on the contract.`);\n    }\n    let rawOffers = [];\n    const batches = await getAllInBatches(start, end, (startId, endId) => this.contractWrapper.read(\"getAllOffers\", [startId, endId]));\n    rawOffers = batches.flat();\n    const filteredOffers = await this.applyFilter(rawOffers, filter);\n    return await Promise.all(filteredOffers.map(offer => this.mapOffer(offer)));\n  }\n\n  /**\n   * Get all valid offers\n   *\n   * @example\n   * ```javascript\n   * const offers = await contract.offers.getAllValid();\n   * ```\n   *\n   * @param filter - optional filter parameters\n   * @returns The Offer object array\n   * @twfeature Offers\n   */\n  async getAllValid(filter) {\n    const totalOffers = await this.getTotalCount();\n    const start = BigNumber.from(filter?.start || 0).toNumber();\n    const end = totalOffers.toNumber();\n    if (end === 0) {\n      throw new Error(`No offers exist on the contract.`);\n    }\n    let rawOffers = [];\n    const batches = await getAllInBatches(start, end, (startId, endId) => this.contractWrapper.read(\"getAllValidOffers\", [startId, endId]));\n    rawOffers = batches.flat();\n    const filteredOffers = await this.applyFilter(rawOffers, filter);\n    return await Promise.all(filteredOffers.map(offer => this.mapOffer(offer)));\n  }\n\n  /**\n   * Get a single offer\n   *\n   * @example\n   * ```javascript\n   * const offerId = 0;\n   * const offer = await contract.offers.getOffer(offerId);\n   * ```\n   *\n   * @param offerId - the listing id\n   * @returns The Direct listing object\n   * @twfeature Offers\n   */\n  async getOffer(offerId) {\n    const offer = await this.contractWrapper.read(\"getOffer\", [offerId]);\n    return await this.mapOffer(offer);\n  }\n\n  /** ******************************\n   * WRITE FUNCTIONS\n   *******************************/\n\n  /**\n   * Make an offer\n   *\n   * @remarks Make an offer on the marketplace for an asset.\n   *\n   * @example\n   * ```javascript\n   * // Data of the offer you want to make\n   * const offer = {\n   *   // address of the contract the asset you want to make an offer for\n   *   assetContractAddress: \"0x...\",\n   *   // token ID of the asset you want to buy\n   *   tokenId: \"0\",\n   *   // how many of the asset you want to buy\n   *   quantity: 1,\n   *   // address of the currency contract that you offer to pay in\n   *   currencyContractAddress: NATIVE_TOKEN_ADDRESS,\n   *   // Total price you offer to pay for the mentioned token(s)\n   *   totalPrice: \"1.5\",\n   *   // Offer valid until\n   *   endTimestamp: new Date(),\n   * }\n   *\n   * const tx = await contract.offers.makeOffer(offer);\n   * const receipt = tx.receipt; // the transaction receipt\n   * const id = tx.id; // the id of the newly created offer\n   * ```\n   * @param offer - the offer data\n   * @returns The transaction receipt and the id of the newly created offer\n   * @twfeature Offers\n   */\n  makeOffer = /* @__PURE__ */buildTransactionFunction(async offer => {\n    const parsedOffer = await OfferInputParamsSchema.parseAsync(offer);\n    const chainId = await this.contractWrapper.getChainID();\n    const currency = isNativeToken(parsedOffer.currencyContractAddress) ? NATIVE_TOKENS[chainId].wrapped.address : parsedOffer.currencyContractAddress;\n    const normalizedTotalPrice = await normalizePriceValue(this.contractWrapper.getProvider(), parsedOffer.totalPrice, currency);\n    const overrides = await this.contractWrapper.getCallOverrides();\n    await setErc20Allowance(this.contractWrapper, normalizedTotalPrice, currency, overrides);\n    return Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"makeOffer\",\n      args: [{\n        assetContract: parsedOffer.assetContractAddress,\n        tokenId: parsedOffer.tokenId,\n        quantity: parsedOffer.quantity,\n        currency: currency,\n        totalPrice: normalizedTotalPrice,\n        expirationTimestamp: parsedOffer.endTimestamp\n      }],\n      parse: receipt => {\n        const event = this.contractWrapper.parseLogs(\"NewOffer\", receipt?.logs);\n        return {\n          id: event[0].args.offerId,\n          receipt\n        };\n      }\n    });\n  });\n\n  /**\n   * Cancel an offer\n   *\n   * @remarks Cancel an offer on the marketplace\n   *\n   * @example\n   * ```javascript\n   * // The ID of the offer you want to cancel\n   * const offerId = \"0\";\n   *\n   * await contract.offers.cancelOffer(offerId);\n   * ```\n   * @param offerId - the offer id\n   * @returns The transaction receipt\n   * @twfeature Offers\n   */\n  cancelOffer = /* @__PURE__ */buildTransactionFunction(async offerId => {\n    return Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"cancelOffer\",\n      args: [offerId]\n    });\n  });\n\n  /**\n   * Accept an offer\n   *\n   * @example\n   * ```javascript\n   * // The ID of the offer you want to accept\n   * const offerId = 0;\n   *\n   * await contract.offers.acceptOffer(offerId);\n   * ```\n   *\n   * @param offerId - The offer id\n   * @returns The transaction receipt\n   * @twfeature Offers\n   */\n  acceptOffer = /* @__PURE__ */buildTransactionFunction(async offerId => {\n    const offer = await this.validateOffer(BigNumber.from(offerId));\n    const {\n      valid,\n      error\n    } = await this.isStillValidOffer(offer);\n    if (!valid) {\n      throw new Error(`Offer ${offerId} is no longer valid. ${error}`);\n    }\n    const overrides = (await this.contractWrapper.getCallOverrides()) || {};\n    await handleTokenApproval(this.contractWrapper, this.getAddress(), offer.assetContractAddress, offer.tokenId, await this.contractWrapper.getSignerAddress());\n    return Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method: \"acceptOffer\",\n      args: [offerId],\n      overrides\n    });\n  });\n\n  /** ******************************\n   * PRIVATE FUNCTIONS\n   *******************************/\n\n  /**\n   * Throws error if offer could not be found\n   *\n   * @param offerId - offer to check for\n   */\n  async validateOffer(offerId) {\n    try {\n      return await this.getOffer(offerId);\n    } catch (err) {\n      console.error(`Error getting the offer with id ${offerId}`);\n      throw err;\n    }\n  }\n\n  /**\n   * Helper method maps the offer to the offer interface.\n   *\n   * @internal\n   * @param offer - The offer to map, as returned from the contract.\n   * @returns  The mapped interface.\n   */\n  async mapOffer(offer) {\n    let status = Status.UNSET;\n    const block = await this.contractWrapper.getProvider().getBlock(\"latest\");\n    const blockTime = block.timestamp;\n    switch (offer.status) {\n      case 1:\n        status = BigNumber.from(offer.expirationTimestamp).lt(blockTime) ? Status.Expired : Status.Active;\n        break;\n      case 2:\n        status = Status.Completed;\n        break;\n      case 3:\n        status = Status.Cancelled;\n        break;\n    }\n    return {\n      id: offer.offerId.toString(),\n      offerorAddress: offer.offeror,\n      assetContractAddress: offer.assetContract,\n      currencyContractAddress: offer.currency,\n      tokenId: offer.tokenId.toString(),\n      quantity: offer.quantity.toString(),\n      totalPrice: offer.totalPrice.toString(),\n      currencyValue: await fetchCurrencyValue(this.contractWrapper.getProvider(), offer.currency, offer.totalPrice),\n      asset: await fetchTokenMetadataForContract(offer.assetContract, this.contractWrapper.getProvider(), offer.tokenId, this.storage),\n      endTimeInSeconds: BigNumber.from(offer.expirationTimestamp).toNumber(),\n      status: status\n    };\n  }\n\n  /**\n   * Use this method to check if an offer is still valid.\n   *\n   * Ways an offer can become invalid:\n   * 1. The offer has expired\n   * 2. The offeror doesn't have enough balance of currency tokens\n   * 3. The offeror removed the approval of currency tokens on the marketplace\n   *\n   * @internal\n   * @param offer - The offer to check.\n   * @returns  True if the offer is valid, false otherwise.\n   */\n  async isStillValidOffer(offer) {\n    const now = BigNumber.from(Math.floor(Date.now() / 1000));\n    if (now.gt(offer.endTimeInSeconds)) {\n      return {\n        valid: false,\n        error: `Offer with ID ${offer.id} has expired`\n      };\n    }\n    const chainId = await this.contractWrapper.getChainID();\n    const currency = isNativeToken(offer.currencyContractAddress) ? NATIVE_TOKENS[chainId].wrapped.address : offer.currencyContractAddress;\n    const provider = this.contractWrapper.getProvider();\n    const ERC20Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC20.json')).default;\n    const erc20 = new ContractWrapper(provider, currency, ERC20Abi, {}, this.storage);\n    const offerorBalance = await erc20.read(\"balanceOf\", [offer.offerorAddress]);\n    if (offerorBalance.lt(offer.totalPrice)) {\n      return {\n        valid: false,\n        error: `Offeror ${offer.offerorAddress} doesn't have enough balance of token ${currency}`\n      };\n    }\n    const offerorAllowance = await erc20.read(\"allowance\", [offer.offerorAddress, this.getAddress()]);\n    if (offerorAllowance.lt(offer.totalPrice)) {\n      return {\n        valid: false,\n        error: `Offeror ${offer.offerorAddress} hasn't approved enough amount of token ${currency}`\n      };\n    }\n    return {\n      valid: true,\n      error: \"\"\n    };\n  }\n  async applyFilter(offers, filter) {\n    let rawOffers = [...offers];\n    if (filter) {\n      if (filter.offeror) {\n        const resolvedOfferor = await resolveAddress(filter.offeror);\n        rawOffers = rawOffers.filter(offeror => offeror.offeror.toString().toLowerCase() === resolvedOfferor?.toString().toLowerCase());\n      }\n      if (filter.tokenContract) {\n        const resolvedToken = await resolveAddress(filter.tokenContract);\n        rawOffers = rawOffers.filter(tokenContract => tokenContract.assetContract.toString().toLowerCase() === resolvedToken?.toString().toLowerCase());\n      }\n      if (filter.tokenId !== undefined) {\n        rawOffers = rawOffers.filter(tokenContract => tokenContract.tokenId.toString() === filter?.tokenId?.toString());\n      }\n    }\n    return filter?.count && filter.count < rawOffers.length ? rawOffers.slice(0, filter.count) : rawOffers;\n  }\n}\n\nexport { MarketplaceV3DirectListings as M, Status as S, MarketplaceV3EnglishAuctions as a, MarketplaceV3Offers as b };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Ray%20Stuff/NUS/Y3Summer/Projects/Never-Forgotten-Token/never-forgotten-nft/node_modules/%40thirdweb-dev/sdk/dist/marketplacev3-ef469d89.browser.esm.js"],"sourcesContent":["import { a as assertEnabled } from './assertEnabled-d1700f0b.browser.esm.js';\nimport { C as ContractMetadata, b as ContractAppURI, G as GasCostEstimator, a as ContractEvents, d as detectContractFeature } from './contract-appuri-5c40af52.browser.esm.js';\nimport { dH as MARKETPLACE_CONTRACT_ROLES, dA as FEATURE_DIRECT_LISTINGS, dB as FEATURE_ENGLISH_AUCTIONS, dC as FEATURE_OFFERS, cs as ContractWrapper, bj as AbiSchema, b$ as MarketplaceContractSchema } from './index-33cd3415.browser.esm.js';\nimport { C as ContractEncoder } from './fetchCurrencyValue-32d08b05.browser.esm.js';\nimport { C as ContractInterceptor } from './contract-interceptor-d7b164a7.browser.esm.js';\nimport { C as ContractPlatformFee } from './contract-platform-fee-e756e68f.browser.esm.js';\nimport { C as ContractRoles } from './contract-roles-71988d2e.browser.esm.js';\nimport { M as MarketplaceV3DirectListings, a as MarketplaceV3EnglishAuctions, b as MarketplaceV3Offers } from './marketplacev3-offers-ce1f096b.browser.esm.js';\nimport { T as Transaction } from './transactions-72f9603c.browser.esm.js';\nimport 'ethers';\nimport 'zod';\nimport '@thirdweb-dev/storage';\nimport '@thirdweb-dev/chains';\nimport '@thirdweb-dev/crypto';\nimport 'tiny-invariant';\nimport 'bn.js';\nimport 'bs58';\nimport '@thirdweb-dev/contracts-js/dist/abis/IBurnableERC20.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDrop.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDropERC20_V2.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase_V1.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC20.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC20Permit.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IMintableERC20.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IMulticall.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC20.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC20Metadata.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IBurnableERC721.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IClaimableERC721.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDelayedReveal.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDropERC721_V3.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC721.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC721Enumerable.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC721AQueryableUpgradeable.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC721Supply.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/ILazyMint.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IMintableERC721.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC721.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC721_V1.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/LazyMintWithTier_V1.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/SharedMetadata.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/zora_IERC721Drop.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/ILoyaltyCard.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/INFTMetadata.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC721Metadata.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IBurnableERC1155.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IClaimableERC1155.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDrop1155.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDropERC1155_V2.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase1155.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase1155_V1.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC1155.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC1155Metadata.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC1155Supply.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC1155Enumerable.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IMintableERC1155.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC1155.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IERC2771Context.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IAppURI.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IContractMetadata.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IDirectListings.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IEnglishAuctions.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IOffers.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IPackVRFDirect.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IPermissions.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IPermissionsEnumerable.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IPlatformFee.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IPrimarySale.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IRoyalty.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/Ownable.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IAirdropERC20.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IAirdropERC721.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IAirdropERC1155.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IAccountFactoryCore.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IAccountPermissions.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IAccountPermissions_V1.json';\nimport '@thirdweb-dev/contracts-js/dist/abis/IAccount.json';\nimport 'ethers/lib/utils';\nimport 'eventemitter3';\nimport './cleanCurrencyAddress-ded19cfe.browser.esm.js';\nimport './normalizePriceValue-9851c0eb.browser.esm.js';\nimport './setErc20Allowance-7f76f677.browser.esm.js';\nimport './marketplace-e3129e2f.browser.esm.js';\nimport './QueryParams-32a56510.browser.esm.js';\n\n/**\n * Create your own whitelabel marketplace that enables users to buy and sell any digital assets.\n *\n * @example\n *\n * ```javascript\n * import { ThirdwebSDK } from \"@thirdweb-dev/sdk\";\n *\n * const sdk = new ThirdwebSDK(\"{{chainName}}\");\n * const contract = await sdk.getContract(\"{{contract_address}}\", \"marketplace\");\n * ```\n *\n * @internal\n * @deprecated use contract.directListings / contract.auctions / contract.offers instead\n */\nclass MarketplaceV3 {\n  static contractRoles = MARKETPLACE_CONTRACT_ROLES;\n\n  /**\n   * @internal\n   */\n\n  /**\n   * Direct listings\n   * @remarks Create and manage direct listings in your marketplace.\n   * ```javascript\n   * // Data of the listing you want to create\n   * const listing = {\n   *   // address of the contract the asset you want to list is on\n   *   assetContractAddress: \"0x...\",\n   *   // token ID of the asset you want to list\n   *   tokenId: \"0\",\n   *   // how many of the asset you want to list\n   *   quantity: 1,\n   *   // address of the currency contract that will be used to pay for the listing\n   *   currencyContractAddress: NATIVE_TOKEN_ADDRESS,\n   *   // The price to pay per unit of NFTs listed.\n   *   pricePerToken: 1.5,\n   *   // when should the listing open up for offers\n   *   startTimestamp: new Date(Date.now()),\n   *   // how long the listing will be open for\n   *   endTimestamp: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),\n   *   // Whether the listing is reserved for a specific set of buyers.\n   *   isReservedListing: false\n   * }\n   *\n   * const tx = await contract.directListings.createListing(listing);\n   * const receipt = tx.receipt; // the transaction receipt\n   * const id = tx.id; // the id of the newly created listing\n   *\n   * // And on the buyers side:\n   * // The ID of the listing you want to buy from\n   * const listingId = 0;\n   * // Quantity of the asset you want to buy\n   * const quantityDesired = 1;\n   *\n   * await contract.directListings.buyFromListing(listingId, quantityDesired);\n   * ```\n   */\n  get directListings() {\n    return assertEnabled(this.detectDirectListings(), FEATURE_DIRECT_LISTINGS);\n  }\n  /**\n   * Auctions\n   * @remarks Create and manage auctions in your marketplace.\n   * @example\n   * ```javascript\n   * // Data of the auction you want to create\n   * const auction = {\n   *   // address of the contract of the asset you want to auction\n   *   assetContractAddress: \"0x...\",\n   *   // token ID of the asset you want to auction\n   *   tokenId: \"0\",\n   *   // how many of the asset you want to auction\n   *   quantity: 1,\n   *   // address of the currency contract that will be used to pay for the auctioned tokens\n   *   currencyContractAddress: NATIVE_TOKEN_ADDRESS,\n   *   // the minimum bid that will be accepted for the token\n   *   minimumBidAmount: \"1.5\",\n   *   // how much people would have to bid to instantly buy the asset\n   *   buyoutBidAmount: \"10\",\n   *   // If a bid is made less than these many seconds before expiration, the expiration time is increased by this.\n   *   timeBufferInSeconds: \"1000\",\n   *   // A bid must be at least this much bps greater than the current winning bid\n   *   bidBufferBps: \"100\", // 100 bps stands for 1%\n   *   // when should the auction open up for bidding\n   *   startTimestamp: new Date(Date.now()),\n   *   // end time of auction\n   *   endTimestamp: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),\n   * }\n   *\n   * const tx = await contract.englishAuctions.createAuction(auction);\n   * const receipt = tx.receipt; // the transaction receipt\n   * const id = tx.id; // the id of the newly created auction\n   *\n   * // And on the buyers side:\n   * // The auction ID of the asset you want to bid on\n   * const auctionId = 0;\n   * // The total amount you are willing to bid for auctioned tokens\n   * const bidAmount = 1;\n   *\n   * await contract.englishAuctions.makeBid(auctionId, bidAmount);\n   * ```\n   */\n  get englishAuctions() {\n    return assertEnabled(this.detectEnglishAuctions(), FEATURE_ENGLISH_AUCTIONS);\n  }\n\n  /**\n   * Offers\n   * @remarks Make and manage offers.\n   * @example\n   * ```javascript\n   * // Data of the offer you want to make\n   * const offer = {\n   *   // address of the contract the asset you want to make an offer for\n   *   assetContractAddress: \"0x...\",\n   *   // token ID of the asset you want to buy\n   *   tokenId: \"0\",\n   *   // how many of the asset you want to buy\n   *   quantity: 1,\n   *   // address of the currency contract that you offer to pay in\n   *   currencyContractAddress: NATIVE_TOKEN_ADDRESS,\n   *   // Total price you offer to pay for the mentioned token(s)\n   *   totalPrice: \"1.5\",\n   *   // Offer valid until\n   *   endTimestamp: new Date(),\n   * }\n   *\n   * const tx = await contract.offers.makeOffer(offer);\n   * const receipt = tx.receipt; // the transaction receipt\n   * const id = tx.id; // the id of the newly created offer\n   *\n   * // And on the seller's side:\n   * // The ID of the offer you want to accept\n   * const offerId = 0;\n   * await contract.offers.acceptOffer(offerId);\n   * ```\n   */\n  get offers() {\n    return assertEnabled(this.detectOffers(), FEATURE_OFFERS);\n  }\n  get chainId() {\n    return this._chainId;\n  }\n  constructor(network, address, storage) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    let abi = arguments.length > 4 ? arguments[4] : undefined;\n    let chainId = arguments.length > 5 ? arguments[5] : undefined;\n    let contractWrapper = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : new ContractWrapper(network, address, abi, options, storage);\n    this._chainId = chainId;\n    this.abi = AbiSchema.parse(abi || []);\n    this.contractWrapper = contractWrapper;\n    this.storage = storage;\n    this.metadata = new ContractMetadata(this.contractWrapper, MarketplaceContractSchema, this.storage);\n    this.app = new ContractAppURI(this.contractWrapper, this.metadata, this.storage);\n    this.roles = new ContractRoles(this.contractWrapper, MarketplaceV3.contractRoles);\n    this.encoder = new ContractEncoder(this.contractWrapper);\n    this.estimator = new GasCostEstimator(this.contractWrapper);\n    this.events = new ContractEvents(this.contractWrapper);\n    this.platformFees = new ContractPlatformFee(this.contractWrapper);\n    this.interceptor = new ContractInterceptor(this.contractWrapper);\n  }\n  onNetworkUpdated(network) {\n    this.contractWrapper.updateSignerOrProvider(network);\n  }\n  getAddress() {\n    return this.contractWrapper.address;\n  }\n\n  /**\n   * @internal\n   */\n  async prepare(method, args, overrides) {\n    return Transaction.fromContractWrapper({\n      contractWrapper: this.contractWrapper,\n      method,\n      args,\n      overrides\n    });\n  }\n\n  /**\n   * @internal\n   */\n  async call(functionName, args, overrides) {\n    return this.contractWrapper.call(functionName, args, overrides);\n  }\n\n  /** ********************\n   * FEATURE DETECTION\n   * ********************/\n\n  detectDirectListings() {\n    if (detectContractFeature(this.contractWrapper, \"DirectListings\")) {\n      return new MarketplaceV3DirectListings(this.contractWrapper, this.storage);\n    }\n    return undefined;\n  }\n  detectEnglishAuctions() {\n    if (detectContractFeature(this.contractWrapper, \"EnglishAuctions\")) {\n      return new MarketplaceV3EnglishAuctions(this.contractWrapper, this.storage);\n    }\n    return undefined;\n  }\n  detectOffers() {\n    if (detectContractFeature(this.contractWrapper, \"Offers\")) {\n      return new MarketplaceV3Offers(this.contractWrapper, this.storage);\n    }\n    return undefined;\n  }\n}\n\nexport { MarketplaceV3 };\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA;;;;;;;;;;;;;;CAcC,GACD,MAAM;IACJ,OAAO,gBAAgB,0LAAA,CAAA,KAA0B,CAAC;IAElD;;GAEC,GAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAoCC,GACD,IAAI,iBAAiB;QACnB,OAAO,CAAA,GAAA,kMAAA,CAAA,IAAa,AAAD,EAAE,IAAI,CAAC,oBAAoB,IAAI,0LAAA,CAAA,KAAuB;IAC3E;IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAyCC,GACD,IAAI,kBAAkB;QACpB,OAAO,CAAA,GAAA,kMAAA,CAAA,IAAa,AAAD,EAAE,IAAI,CAAC,qBAAqB,IAAI,0LAAA,CAAA,KAAwB;IAC7E;IAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA8BC,GACD,IAAI,SAAS;QACX,OAAO,CAAA,GAAA,kMAAA,CAAA,IAAa,AAAD,EAAE,IAAI,CAAC,YAAY,IAAI,0LAAA,CAAA,KAAc;IAC1D;IACA,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,QAAQ;IACtB;IACA,YAAY,OAAO,EAAE,OAAO,EAAE,OAAO,CAAE;QACrC,IAAI,UAAU,UAAU,MAAM,GAAG,KAAK,SAAS,CAAC,EAAE,KAAK,YAAY,SAAS,CAAC,EAAE,GAAG,CAAC;QACnF,IAAI,MAAM,UAAU,MAAM,GAAG,IAAI,SAAS,CAAC,EAAE,GAAG;QAChD,IAAI,UAAU,UAAU,MAAM,GAAG,IAAI,SAAS,CAAC,EAAE,GAAG;QACpD,IAAI,kBAAkB,UAAU,MAAM,GAAG,KAAK,SAAS,CAAC,EAAE,KAAK,YAAY,SAAS,CAAC,EAAE,GAAG,IAAI,0LAAA,CAAA,KAAe,CAAC,SAAS,SAAS,KAAK,SAAS;QAC9I,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,GAAG,GAAG,0LAAA,CAAA,KAAS,CAAC,KAAK,CAAC,OAAO,EAAE;QACpC,IAAI,CAAC,eAAe,GAAG;QACvB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,QAAQ,GAAG,IAAI,uMAAA,CAAA,IAAgB,CAAC,IAAI,CAAC,eAAe,EAAE,0LAAA,CAAA,KAAyB,EAAE,IAAI,CAAC,OAAO;QAClG,IAAI,CAAC,GAAG,GAAG,IAAI,uMAAA,CAAA,IAAc,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO;QAC/E,IAAI,CAAC,KAAK,GAAG,IAAI,sMAAA,CAAA,IAAa,CAAC,IAAI,CAAC,eAAe,EAAE,cAAc,aAAa;QAChF,IAAI,CAAC,OAAO,GAAG,IAAI,uMAAA,CAAA,IAAe,CAAC,IAAI,CAAC,eAAe;QACvD,IAAI,CAAC,SAAS,GAAG,IAAI,uMAAA,CAAA,IAAgB,CAAC,IAAI,CAAC,eAAe;QAC1D,IAAI,CAAC,MAAM,GAAG,IAAI,uMAAA,CAAA,IAAc,CAAC,IAAI,CAAC,eAAe;QACrD,IAAI,CAAC,YAAY,GAAG,IAAI,gNAAA,CAAA,IAAmB,CAAC,IAAI,CAAC,eAAe;QAChE,IAAI,CAAC,WAAW,GAAG,IAAI,4MAAA,CAAA,IAAmB,CAAC,IAAI,CAAC,eAAe;IACjE;IACA,iBAAiB,OAAO,EAAE;QACxB,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC;IAC9C;IACA,aAAa;QACX,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO;IACrC;IAEA;;GAEC,GACD,MAAM,QAAQ,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE;QACrC,OAAO,iMAAA,CAAA,IAAW,CAAC,mBAAmB,CAAC;YACrC,iBAAiB,IAAI,CAAC,eAAe;YACrC;YACA;YACA;QACF;IACF;IAEA;;GAEC,GACD,MAAM,KAAK,YAAY,EAAE,IAAI,EAAE,SAAS,EAAE;QACxC,OAAO,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,cAAc,MAAM;IACvD;IAEA;;wBAEsB,GAEtB,uBAAuB;QACrB,IAAI,CAAA,GAAA,uMAAA,CAAA,IAAqB,AAAD,EAAE,IAAI,CAAC,eAAe,EAAE,mBAAmB;YACjE,OAAO,IAAI,4MAAA,CAAA,IAA2B,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO;QAC3E;QACA,OAAO;IACT;IACA,wBAAwB;QACtB,IAAI,CAAA,GAAA,uMAAA,CAAA,IAAqB,AAAD,EAAE,IAAI,CAAC,eAAe,EAAE,oBAAoB;YAClE,OAAO,IAAI,4MAAA,CAAA,IAA4B,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO;QAC5E;QACA,OAAO;IACT;IACA,eAAe;QACb,IAAI,CAAA,GAAA,uMAAA,CAAA,IAAqB,AAAD,EAAE,IAAI,CAAC,eAAe,EAAE,WAAW;YACzD,OAAO,IAAI,4MAAA,CAAA,IAAmB,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO;QACnE;QACA,OAAO;IACT;AACF","ignoreList":[0],"debugId":null}}]
}